<!DOCTYPE html>
<html lang="zh-TC">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>開發模板 | 蘋果cmsV10</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script src="https://s9.cnzz.com/z_stat.php?id=1280223273&amp;web_id=1280223273"></script>
    <meta name="description" content="想要書寫一個蘋果cms模板，首先在template錄創建一個 theme_tpl 目錄作為我們自定義的模板目錄，接著創建一個 html文件夾 用來存放所有的html文件">
    <meta name="keywords" content="蘋果cms開發模板,使用標簽,判斷,函數,蘋果cms">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.4140dd7b.css" as="style"><link rel="preload" href="/assets/js/app.6bc1aad0.js" as="script"><link rel="preload" href="/assets/js/5.b06b0d86.js" as="script"><link rel="preload" href="/assets/js/4.9ebf53b1.js" as="script"><link rel="preload" href="/assets/js/81.38985e17.js" as="script"><link rel="preload" href="/assets/js/8.a78a9654.js" as="script"><link rel="prefetch" href="/assets/js/10.f75a0466.js"><link rel="prefetch" href="/assets/js/100.5eaca395.js"><link rel="prefetch" href="/assets/js/101.7e986a1e.js"><link rel="prefetch" href="/assets/js/102.d93394f8.js"><link rel="prefetch" href="/assets/js/103.de54a7c8.js"><link rel="prefetch" href="/assets/js/104.d189b941.js"><link rel="prefetch" href="/assets/js/105.99930a42.js"><link rel="prefetch" href="/assets/js/106.9d1db701.js"><link rel="prefetch" href="/assets/js/107.97b29b0a.js"><link rel="prefetch" href="/assets/js/108.64ed68b5.js"><link rel="prefetch" href="/assets/js/109.6f2fc2ef.js"><link rel="prefetch" href="/assets/js/11.6fca27a1.js"><link rel="prefetch" href="/assets/js/110.f67f21e0.js"><link rel="prefetch" href="/assets/js/111.0e4a3519.js"><link rel="prefetch" href="/assets/js/12.655dd338.js"><link rel="prefetch" href="/assets/js/13.905bf4a3.js"><link rel="prefetch" href="/assets/js/14.41035e8f.js"><link rel="prefetch" href="/assets/js/15.43ed14a4.js"><link rel="prefetch" href="/assets/js/16.554ab8a9.js"><link rel="prefetch" href="/assets/js/17.363da9cf.js"><link rel="prefetch" href="/assets/js/18.7c50a79c.js"><link rel="prefetch" href="/assets/js/19.f81b6f2a.js"><link rel="prefetch" href="/assets/js/20.acead8ab.js"><link rel="prefetch" href="/assets/js/21.c4f5cd37.js"><link rel="prefetch" href="/assets/js/22.36510670.js"><link rel="prefetch" href="/assets/js/23.264fc9c0.js"><link rel="prefetch" href="/assets/js/24.5203028b.js"><link rel="prefetch" href="/assets/js/25.4e796958.js"><link rel="prefetch" href="/assets/js/26.2123e595.js"><link rel="prefetch" href="/assets/js/27.914dae9f.js"><link rel="prefetch" href="/assets/js/28.20885fa9.js"><link rel="prefetch" href="/assets/js/29.0a0019f1.js"><link rel="prefetch" href="/assets/js/30.2c9a2517.js"><link rel="prefetch" href="/assets/js/31.1a620d96.js"><link rel="prefetch" href="/assets/js/32.2f30f96f.js"><link rel="prefetch" href="/assets/js/33.93ee7ff2.js"><link rel="prefetch" href="/assets/js/34.6c5f7566.js"><link rel="prefetch" href="/assets/js/35.4a037f21.js"><link rel="prefetch" href="/assets/js/36.37b0f3ad.js"><link rel="prefetch" href="/assets/js/37.9245c3e6.js"><link rel="prefetch" href="/assets/js/38.226dc438.js"><link rel="prefetch" href="/assets/js/39.bfef2594.js"><link rel="prefetch" href="/assets/js/40.6de9f380.js"><link rel="prefetch" href="/assets/js/41.d30050e3.js"><link rel="prefetch" href="/assets/js/42.7abb174a.js"><link rel="prefetch" href="/assets/js/43.fc820f9b.js"><link rel="prefetch" href="/assets/js/44.ab098bb4.js"><link rel="prefetch" href="/assets/js/45.bf6ee42f.js"><link rel="prefetch" href="/assets/js/46.d44f5736.js"><link rel="prefetch" href="/assets/js/47.dac7f3cc.js"><link rel="prefetch" href="/assets/js/48.58343188.js"><link rel="prefetch" href="/assets/js/49.ebafb35a.js"><link rel="prefetch" href="/assets/js/50.73e5557e.js"><link rel="prefetch" href="/assets/js/51.7ba553a4.js"><link rel="prefetch" href="/assets/js/52.f3d4ec78.js"><link rel="prefetch" href="/assets/js/53.1d064717.js"><link rel="prefetch" href="/assets/js/54.b04b9006.js"><link rel="prefetch" href="/assets/js/55.e8a24784.js"><link rel="prefetch" href="/assets/js/56.fbc7f7e5.js"><link rel="prefetch" href="/assets/js/57.931aff88.js"><link rel="prefetch" href="/assets/js/58.0b878199.js"><link rel="prefetch" href="/assets/js/59.93124375.js"><link rel="prefetch" href="/assets/js/6.b8c76823.js"><link rel="prefetch" href="/assets/js/60.c4cd00f7.js"><link rel="prefetch" href="/assets/js/61.02243759.js"><link rel="prefetch" href="/assets/js/62.1b1f568f.js"><link rel="prefetch" href="/assets/js/63.b113a697.js"><link rel="prefetch" href="/assets/js/64.c4852597.js"><link rel="prefetch" href="/assets/js/65.2d3e8d19.js"><link rel="prefetch" href="/assets/js/66.4f024f5e.js"><link rel="prefetch" href="/assets/js/67.7d020b84.js"><link rel="prefetch" href="/assets/js/68.17701077.js"><link rel="prefetch" href="/assets/js/69.7a795e33.js"><link rel="prefetch" href="/assets/js/7.567e98f4.js"><link rel="prefetch" href="/assets/js/70.64521d80.js"><link rel="prefetch" href="/assets/js/71.3367ef27.js"><link rel="prefetch" href="/assets/js/72.57009301.js"><link rel="prefetch" href="/assets/js/73.637b7bd9.js"><link rel="prefetch" href="/assets/js/74.410e6c50.js"><link rel="prefetch" href="/assets/js/75.5e3dc700.js"><link rel="prefetch" href="/assets/js/76.095c9267.js"><link rel="prefetch" href="/assets/js/77.d9daf226.js"><link rel="prefetch" href="/assets/js/78.713bde29.js"><link rel="prefetch" href="/assets/js/79.56e7b1c1.js"><link rel="prefetch" href="/assets/js/80.6ff1423f.js"><link rel="prefetch" href="/assets/js/82.800d48a6.js"><link rel="prefetch" href="/assets/js/83.a6a82839.js"><link rel="prefetch" href="/assets/js/84.740732bf.js"><link rel="prefetch" href="/assets/js/85.7ee9f539.js"><link rel="prefetch" href="/assets/js/86.6d992567.js"><link rel="prefetch" href="/assets/js/87.024401d3.js"><link rel="prefetch" href="/assets/js/88.e1b2ad87.js"><link rel="prefetch" href="/assets/js/89.da67f2c3.js"><link rel="prefetch" href="/assets/js/9.e75c031f.js"><link rel="prefetch" href="/assets/js/90.df2764c6.js"><link rel="prefetch" href="/assets/js/91.300b67aa.js"><link rel="prefetch" href="/assets/js/92.42c76c26.js"><link rel="prefetch" href="/assets/js/93.75e3169d.js"><link rel="prefetch" href="/assets/js/94.81c75bdd.js"><link rel="prefetch" href="/assets/js/95.5e2cbe83.js"><link rel="prefetch" href="/assets/js/96.f69bd55e.js"><link rel="prefetch" href="/assets/js/97.3b2a212c.js"><link rel="prefetch" href="/assets/js/98.87ffb554.js"><link rel="prefetch" href="/assets/js/99.39169b6c.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.2b48bf23.js"><link rel="prefetch" href="/assets/js/vendors~notification.14a64265.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4140dd7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/tc/" class="home-link router-link-active"><!----> <span class="site-name">蘋果cmsV10</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/tc/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/tc/config/" class="nav-link">
  配寘
</a></div><div class="nav-item"><a href="/tc/plugin/" class="nav-link">
  挿件
</a></div><div class="nav-item"><a href="/tc/theme/" class="nav-link router-link-active">
  模板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="瞭解更多" class="dropdown-title"><span class="title">瞭解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="瞭解更多" class="mobile-dropdown-title"><span class="title">瞭解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/api/collect.html" class="nav-link">
  採集
</a></li><li class="dropdown-subitem"><a href="/api/web-design.html" class="nav-link">
  前端
</a></li></ul></li><li class="dropdown-item"><h4>
          站長手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/template.html" class="nav-link">
  模板購買
</a></li><li class="dropdown-subitem"><a href="/webmaster/server.html" class="nav-link">
  服務器
</a></li><li class="dropdown-subitem"><a href="/webmaster/ads.html" class="nav-link">
  廣告聯盟
</a></li><li class="dropdown-subitem"><a href="/tc/faq/" class="nav-link">
  常見問題
</a></li><li class="dropdown-subitem"><a href="/webmaster/glossary.html" class="nav-link">
  行業屬術語
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/migration-guide.html" class="nav-link">
  其他cms轉蘋果cms
</a></li><li class="dropdown-subitem"><a href="/webmaster/transfer.html" class="nav-link">
  網站搬家
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="v10.x" class="dropdown-title"><span class="title">v10.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="v10.x" class="mobile-dropdown-title"><span class="title">v10.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v10.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v0.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v8.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="語言" class="dropdown-title"><span class="title">語言</span> <span class="arrow down"></span></button> <button type="button" aria-label="語言" class="mobile-dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/theme/using-a-theme.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tc/theme/using-a-theme.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/magicblack/maccms10" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/tc/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/tc/config/" class="nav-link">
  配寘
</a></div><div class="nav-item"><a href="/tc/plugin/" class="nav-link">
  挿件
</a></div><div class="nav-item"><a href="/tc/theme/" class="nav-link router-link-active">
  模板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="瞭解更多" class="dropdown-title"><span class="title">瞭解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="瞭解更多" class="mobile-dropdown-title"><span class="title">瞭解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/api/collect.html" class="nav-link">
  採集
</a></li><li class="dropdown-subitem"><a href="/api/web-design.html" class="nav-link">
  前端
</a></li></ul></li><li class="dropdown-item"><h4>
          站長手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/template.html" class="nav-link">
  模板購買
</a></li><li class="dropdown-subitem"><a href="/webmaster/server.html" class="nav-link">
  服務器
</a></li><li class="dropdown-subitem"><a href="/webmaster/ads.html" class="nav-link">
  廣告聯盟
</a></li><li class="dropdown-subitem"><a href="/tc/faq/" class="nav-link">
  常見問題
</a></li><li class="dropdown-subitem"><a href="/webmaster/glossary.html" class="nav-link">
  行業屬術語
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/migration-guide.html" class="nav-link">
  其他cms轉蘋果cms
</a></li><li class="dropdown-subitem"><a href="/webmaster/transfer.html" class="nav-link">
  網站搬家
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="v10.x" class="dropdown-title"><span class="title">v10.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="v10.x" class="mobile-dropdown-title"><span class="title">v10.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://v2.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v10.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v0.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v8.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="語言" class="dropdown-title"><span class="title">語言</span> <span class="arrow down"></span></button> <button type="button" aria-label="語言" class="mobile-dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/theme/using-a-theme.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tc/theme/using-a-theme.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/magicblack/maccms10" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>模板</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tc/theme/" aria-current="page" class="sidebar-link">介紹</a></li><li><a href="/tc/theme/using-a-theme.html" aria-current="page" class="active sidebar-link">開發模板</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用標簽" class="sidebar-link">使用標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用函數" class="sidebar-link">使用函數</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#常用處理函數" class="sidebar-link">常用處理函數</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#常用js處理函數" class="sidebar-link">常用JS處理函數</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#視頻、文章、專題點擊量顯示-通用" class="sidebar-link">視頻、文章、專題點擊量顯示  通用</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#在視頻、文章、專題詳情頁面寫入瀏覽歷史記錄" class="sidebar-link">在視頻、文章、專題詳情頁面寫入瀏覽歷史記錄</a></li></ul></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用默認值" class="sidebar-link">使用默認值</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用運算符" class="sidebar-link">使用運算符</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#三元運算" class="sidebar-link">三元運算</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#模板繼承" class="sidebar-link">模板繼承</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#比較標簽" class="sidebar-link">比較標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#條件判斷" class="sidebar-link">條件判斷</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#switch標簽" class="sidebar-link">SWITCH標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#if標簽" class="sidebar-link">IF標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#範圍判斷" class="sidebar-link">範圍判斷</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#between-和-notbetween" class="sidebar-link">BETWEEN 和 NOTBETWEEN</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#range" class="sidebar-link">RANGE</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#present-notpresent標簽" class="sidebar-link">PRESENT NOTPRESENT標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#empty-notempty-標簽" class="sidebar-link">EMPTY NOTEMPTY 標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#defined-標簽" class="sidebar-link">DEFINED 標簽</a></li></ul></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#標簽嵌套" class="sidebar-link">標簽嵌套</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用php" class="sidebar-link">使用PHP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用php標簽" class="sidebar-link">使用php標簽</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#使用原生php代碼" class="sidebar-link">使用原生php代碼</a></li><li class="sidebar-sub-header"><a href="/tc/theme/using-a-theme.html#自定義標簽" class="sidebar-link">自定義標簽</a></li></ul></li></ul></li><li><a href="/tc/theme/writing-a-theme.html" class="sidebar-link">开发模板</a></li><li><a href="/tc/theme/structure.html" class="sidebar-link">模板结构</a></li><li><a href="/tc/theme/theme-vod.html" class="sidebar-link">視頻</a></li><li><a href="/tc/theme/theme-art.html" class="sidebar-link">文章</a></li><li><a href="/tc/theme/theme-topic.html" class="sidebar-link">专题</a></li><li><a href="/tc/theme/theme-actor.html" class="sidebar-link">演员</a></li><li><a href="/tc/theme/theme-website.html" class="sidebar-link">網址</a></li><li><a href="/tc/theme/theme-user.html" class="sidebar-link">用戶</a></li><li><a href="/tc/theme/theme-type.html" class="sidebar-link">分类</a></li><li><a href="/tc/theme/theme-plot.html" class="sidebar-link">剧情</a></li><li><a href="/tc/theme/theme-role.html" class="sidebar-link">角色</a></li><li><a href="/tc/theme/theme-other.html" class="sidebar-link">通用</a></li><li><a href="/tc/theme/tags-global.html" class="sidebar-link">全局標簽</a></li><li><a href="/tc/theme/senior.html" class="sidebar-link">高级用法</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="開發模板"><a href="#開發模板" class="header-anchor">#</a> 開發模板</h1> <p>想要書寫一個主題，首先在<code>template</code>錄創建一個 <code>theme_tpl</code> 目錄作為我們自定義的模板目錄，接著創建一個 <code>html文件夾</code> 用來存放所有的html文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>└─ template
   └─ `theme_tpl`
       ├─ css
       ├─ js
       └─ html
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>詳細可參考 <a href="/tc/theme/structure.html">模板結構</a> 來構建你的模板結構，這裏知識點主要是開發技巧，不做詳細的構建步驟介紹,開發任何網站模板是要具備一定 <code>html</code> <code>css</code> 和 <code>javascript</code> 等前端基礎哦</p></div> <p><strong>必備js</strong></p> <p>自帶的 <code>home.js</code>已經做好了很多必備的功能，開發者直接引入既可以使用裏面 <code>MAC</code> 對象封裝的函數，例如：歷史記錄、頂踩收藏、訪問量統計，評論等等功能，俗稱蘋果cms模板必備三段。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.path}static/js/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">var</span> maccms<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;path&quot;</span><span class="token operator">:</span><span class="token string">&quot;__ROOT__&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mid&quot;</span><span class="token operator">:</span><span class="token string">&quot;{$maccms['mid']}&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;url&quot;</span><span class="token operator">:</span><span class="token string">&quot;{$maccms['site_url']}&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;wapurl&quot;</span><span class="token operator">:</span><span class="token string">&quot;{$maccms['site_wapurl']}&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;mob_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;{$maccms['mob_status']}&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.path}static/js/home.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="使用標簽"><a href="#使用標簽" class="header-anchor">#</a> 使用標簽</h2> <p>蘋果CMSv10標簽完全支持<code>tp5</code>的語法，在HTML中使用<code>{}</code>包裹起來的<code>php</code>變量，如 <code>{$maccms['site_name']}</code>數組的形式支持用<code>.</code>來代替如：<code>{$maccms.site_name}</code>。列表標簽有<code>起始標簽</code>和<code>結束標簽</code>組成。如 <code>{maccms:vod type=&quot;all&quot; num=&quot;10&quot;}{/maccms:vod}</code>,內部變量都是數據庫字段組成，以 <code>$vo.</code>開頭如：<code>{$vo.vod_name}</code>、<code>{$vo.vod_id}</code> 等等。</p> <h2 id="使用函數"><a href="#使用函數" class="header-anchor">#</a> 使用函數</h2> <p>我們往往需要對模板輸出變量使用函數，可以使用：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$data.name|md5} 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>編譯後的結果是：</li></ul> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>如果函數有多個參數需要調用，則使用：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$create_time|date=&quot;y-m-d&quot;,###}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示date函數傳入兩個參數，每個參數用逗號分割，這裏第一個參數是y-m-d，第二個參數是前面要輸出的create_time變量，因為該變量是第二個參數，因此需要用###標識變量位置，編譯後的結果是：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;y-m-d&quot;</span><span class="token punctuation">,</span><span class="token variable">$create_time</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果前面輸出的變量在後面定義的函數的第一個參數，則可以直接使用：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$data.name|substr=0,3}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示輸出</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token prolog">&lt;?php echo (substr($data['name'],0,3)); ?&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>雖然也可以使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$data.name|substr=###,0,3}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但完全沒用這個必要。
還可以支持多個函數過濾，多個函數之間用<code>|</code>分割即可，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$name|md5|strtoupper|substr=0,3}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>編譯後的結果是：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token punctuation">(</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token function">strtoupper</span><span class="token punctuation">(</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>函數會按照從左到右的順序依次調用。
如果你覺得這樣寫起來比較麻煩，也可以直接這樣寫：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{:substr(strtoupper(md5($name)),0,3)}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>變量輸出使用的函數可以支持內置的PHP函數或者用戶自定義函數，甚至是靜態方法。</p></div> <h2 id="常用處理函數"><a href="#常用處理函數" class="header-anchor">#</a> 常用處理函數</h2> <ul><li><p>允許使用多個函數，都使用|分隔開</p></li> <li><p>所有圖片地址，不管是遠程的本地的都建議使用 <code>mac_url_img</code> 來處理。</p></li> <li><p><code>{:mac_data_count(0,'all','vod')}</code> 獲取視頻總數量</p></li> <li><p><code>{:mac_data_count(0,'today','vod')}</code>獲取今日更新視頻總數量</p></li> <li><p><code>{:mac_data_count(0,'all','art')}</code>獲取文章總數量</p></li> <li><p><code>{:mac_data_count(0,'today','art')}</code> 獲取今日更新文章總數量</p></li> <li><p><code>{:mac_data_count(1,'all')}</code>獲取某個分類下的數據總量，支持視頻和文章,傳入分類ID</p></li> <li><p><code>{:mac_data_count(1,'today')}</code> 獲取某個分類下的今日更新數據總量，支持視頻和文章,傳入分類ID</p></li> <li><p>另外還支持<code>topic</code>,<code>website</code>,<code>actor</code>,<code>role</code>模塊的獲取數據數量</p></li> <li><p><code>{:mac_url('map/index')}</code> 獲取站內鏈接,參數代表 模塊/頁面</p></li> <li><p><code>{$obj.vod_content|mac_url_content_img}</code> 如果使用了第三方附件存儲，附件和圖片默認url是mac:開頭的，此方法將替換為- <code>http</code></p></li> <li><p><code>{$vo.vod_pic|mac_url_img}</code>  自動轉換圖片地址</p></li> <li><p><code>{$vo.vod_content|mac_substring=100}</code>返回截取字符串100個字</p></li> <li><p><code>{$vo.vod_content|mac_filter_html}</code>返回沒有html代碼的內容</p></li> <li><p><code>{$vo.actor|mac_url_create='actor','vod','search','&amp;nbsp;'}</code>
把,號相連的一串字符生成N個搜索鏈接,後2個參數可以不填寫默認是生成vod模塊搜索鏈接。 例子是創建演員搜索鏈接。支持演員、導演、tag、擴展分類等字段。最後一個參數是生成鏈接的分隔符。</p></li> <li><p><code>{$vo.vod_time|mac_day}</code>自動返回日期</p></li> <li><p><code>{$vo.vod_time|mac_friend_date}</code>友好時間提醒 幾秒前，幾分前，幾小時前，幾天前。。。</p></li> <li><p><code>{$vo.vod_year|mac_default='未知'}</code>如果字符串為空，則返回默認字符串</p></li> <li><p><code>{$user.user_login_ip|mac_long2ip}</code>返回格式化ip地址</p></li> <li><p><code>{$user.user_id|mac_get_user_portrait}</code>獲取用戶頭像地址</p></li></ul> <h2 id="常用js處理函數"><a href="#常用js處理函數" class="header-anchor">#</a> 常用JS處理函數</h2> <p>一般用元素的class自動綁定處理事件</p> <ul><li>會員-收藏視頻內容</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-收藏文章內容頁</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-收藏專題內容頁</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以下內容一般放到body結尾之前，不用於顯示，只用戶記錄信息。</p> <ul><li>會員-文章瀏覽記錄</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置文章內容頁瀏覽記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-專題瀏覽記錄</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置專題內容頁瀏覽記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-視頻瀏覽記錄</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置內容頁瀏覽記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-視頻播放記錄</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置視頻播放記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>會員-視頻下載記錄</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置視頻播放記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>視頻、文章、專題 頂和踩  通用</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  頂<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$obj.vod_up}{$obj.art_up}{$obj.topic_up}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vod_id}{$art_id}{$topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  踩<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$obj.vod_down}{$obj.art_down}{$obj.topic_down}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="視頻、文章、專題點擊量顯示-通用"><a href="#視頻、文章、專題點擊量顯示-通用" class="header-anchor">#</a> 視頻、文章、專題點擊量顯示  通用</h3> <p>總點擊量：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>日點擊量：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_day<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_day<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>周點擊量：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_week<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_week<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>月點擊量：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_month<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_month<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>前臺瀏覽歷史記錄調用</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>歷史記錄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="在視頻、文章、專題詳情頁面寫入瀏覽歷史記錄"><a href="#在視頻、文章、專題詳情頁面寫入瀏覽歷史記錄" class="header-anchor">#</a> 在視頻、文章、專題詳情頁面寫入瀏覽歷史記錄</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置視頻歷史記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{$obj.type.type_name}]{$obj.vod_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置文章歷史記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{$obj.type.type_name}]{$obj.art_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>設置專題歷史記錄<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>訪問頁面觸發定時任務，建議放到首頁底部；  由於入口文件名可變，默認是api.php，如需修改請自定義 data-file=&quot;xxx.php&quot;</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_timming<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>網址導航來路記錄統計；建議放到首頁底部。來路域名必須和網址導航裏的跳轉url裏的一致。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_referer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>自動獲取短網址連接</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shorten<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_shorten<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>短網址自定義用法，js來獲取</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token constant">MAC</span><span class="token punctuation">.</span>Shorten<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com/&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url_short<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>獲取用戶記錄日誌，比如1瀏覽、2收藏、3想看、4點播、5下載</li> <li><code>MAC.Ulog.Get</code>有<code>4</code>個參數<code>type</code>類型<code>0</code>代表全部,<code>page</code>頁碼,<code>limit</code>每頁條數,<code>call</code>回調函數</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token constant">MAC</span><span class="token punctuation">.</span>Ulog<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">999</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span>row</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'pic'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type_name'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'獲取失敗'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="使用默認值"><a href="#使用默認值" class="header-anchor">#</a> 使用默認值</h2> <p>我們可以給變量輸出提供默認值，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.user_nickname|default=&quot;這個人沒有昵稱&quot;}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>對系統變量依然可以支持默認值輸出，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.vod_actor|default=&quot;演員為空&quot;}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>默認值和函數可以同時使用，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$Think.get.name|getName|default=&quot;名稱為空&quot;}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="使用運算符"><a href="#使用運算符" class="header-anchor">#</a> 使用運算符</h2> <p>我們可以對模板輸出使用運算符，包括對“+”“-” “*” “/”和“%”的支持。
例如：</p> <table><thead><tr><th>運算符</th> <th>使用示例</th></tr></thead> <tbody><tr><td>+</td> <td>{$a+$b}</td></tr> <tr><td>-</td> <td>{$a-$b}</td></tr> <tr><td>*</td> <td>{$a*$b}</td></tr> <tr><td>/</td> <td>{$a/$b}</td></tr> <tr><td>%</td> <td>{$a%$b}</td></tr> <tr><td>++</td> <td>{$a++} 或 {++$a}</td></tr> <tr><td>--</td> <td>{$a--} 或 {--$a}</td></tr> <tr><td>綜合判斷</td> <td>{$a+$b*10+$c}</td></tr></tbody></table> <p>在使用運算符的時候，不再支持常規函數用法，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$user.score+10} //正確的
{$user['score']+10} //正確的
{$user['score']*$user['level']} //正確的
{$user['score']|myFun*10} //錯誤的
{$user['score']+myFun($user['level'])} //正確的
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="三元運算"><a href="#三元運算" class="header-anchor">#</a> 三元運算</h2> <p>模板可以支持三元運算符，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$status? '正常' : '錯誤'}
{$info['status']? $info['msg'] : $info['error']}
{$info.status? $info.msg : $info.error }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>5.0版本還支持如下的寫法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$varname.aa ?? 'xxx'}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示如果有設置$varname則輸出$varname,否則輸出'xxx'。 解析後的代碼為：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$varname</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'aa'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$varname</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'aa'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'默認值'</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>{$varname?='xxx'} 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示$varname為真時才輸出xxx。 解析後的代碼為：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">echo</span> <span class="token string single-quoted-string">'xxx'</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>{$varname ?: 'no'}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>表示如果$varname為真則輸出$varname，否則輸出no。解析後的代碼為：</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$varname</span> <span class="token operator">?</span> <span class="token variable">$varname</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'no'</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>{$a==$b ? 'yes' : 'no'}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>前面的表達式為真輸出yes,否則輸出no， 條件可以是==、===、!=、!==、&gt;=、&lt;=</p> <h2 id="模板繼承"><a href="#模板繼承" class="header-anchor">#</a> 模板繼承</h2> <p>模板繼承是一項更加靈活的模板布局方式，模板繼承不同於模板布局，甚至來說，應該在模板布局的上層。模板繼承其實並不難理解，就好比類的繼承一樣，模板也可以定義一個基礎模板（或者是布局），並且其中定義相關的區塊<code>block</code>，然後繼承<code>extend</code>該基礎模板的子模板中就可以對基礎模板中定義的區塊進行重載。</p> <p>因此，模板繼承的優勢其實是設計基礎模板中的區塊`block）和子模板中替換這些區塊。</p> <p>每個區塊由<code>{block} {/block}</code>標簽組成。 下面就是基礎模板中的一個典型的區塊設計（用於設計網站標題）：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{block name=&quot;title&quot;}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>網站標題<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>{/block}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>block標簽必須指定name屬性來標識當前區塊的名稱，這個標識在當前模板中應該是唯一的，block標簽中可以包含任何模板內容，包括其他標簽和變量，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{block name=&quot;title&quot;}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{$web_title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>{/block}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>你甚至還可以在區塊中加載外部文件：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{block name=&quot;include&quot;}{include file=&quot;Public:header&quot; /}{/block}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>一個模板中可以定義任意多個名稱標識不重復的區塊，例如下面定義了一個<code>base.html</code>基礎模板：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{block name=&quot;title&quot;}標題{/block}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
      {block name=&quot;menu&quot;}菜單{/block}
      {block name=&quot;left&quot;}左邊分欄{/block}
      {block name=&quot;main&quot;}主內容{/block}
      {block name=&quot;right&quot;}右邊分欄{/block}
      {block name=&quot;footer&quot;}底部{/block}
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>然後我們在子模板（其實是當前操作的入口模板）中使用繼承：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{extend name=&quot;base&quot; /}
{block name=&quot;title&quot;}{$title}{/block}
{block name=&quot;menu&quot;}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>首頁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/info/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>資訊<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/bbs/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>論壇<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
{/block}
{block name=&quot;left&quot;}{/block}
{block name=&quot;main&quot;}
{volist name=&quot;list&quot; id=&quot;vo&quot;}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/new/{$vo.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$vo.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
 {$vo.content}
{/volist}
{/block}
{block name=&quot;right&quot;}
 最新資訊：
{volist name=&quot;news&quot; id=&quot;new&quot;}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/new/{$new.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$new.title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
{/volist}
{/block}
{block name=&quot;footer&quot;}
{__block__}
 @ThinkPHP 版權所有
{/block}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>上例中，我們可以看到在子模板中使用了extend標簽來繼承了base模板。
在子模板中，可以對基礎模板中的區塊進行重載定義，如果沒有重新定義的話，則表示沿用基礎模板中的區塊定義，如果定義了一個空的區塊，則表示刪除基礎模板中的該區塊內容。 上面的例子，我們就把left區塊的內容刪除了，其他的區塊都進行了重載。而</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{block name=&quot;footer&quot;}
{__block__}@大圖模板datll.com 版權所有
{/block}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>這一區塊中有<code>{_block_}</code>這個標簽，當區塊中有這個標記時，就不只是直接重載這個區塊，它表示引用所繼承模板對應區塊的內容到這個位置，最終這個區塊是合並後的內容。所以這裏<code>footer</code>區塊最後的內容是： 底部@大圖模板 版權所有
<code>extend</code>標簽的用法和<code>include</code>標簽一樣，你也可以加載其他模板：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{extend name=&quot;Public:base&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者使用絕對文件路徑加載</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{extend name=&quot;./Template/Public/base.html&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在當前子模板中，只能定義區塊而不能定義其他的模板內容，否則將會直接忽略，並且只能定義基礎模板中已經定義的區塊。
例如，如果采用下面的定義：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{block name=&quot;title&quot;}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{$title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>{/block}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>首頁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/art/index<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>資訊<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/actor/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>明星<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>導航部分將是無效的，不會顯示在模板中。
模板可以多級繼承，比如B繼承了A，而C又繼承了B，最終C中的區塊會覆蓋B和A中的同名區塊，但C和B中的區塊必須是A中已定義過的。
子模板中的區塊定義順序是隨意的，模板繼承的用法關鍵在於基礎模板如何布局和設計規劃了，如果結合原來的布局功能，則會更加靈活。</p> <h2 id="比較標簽"><a href="#比較標簽" class="header-anchor">#</a> 比較標簽</h2> <p>比較標簽用於簡單的變量比較，復雜的判斷條件可以用if標簽替換，比較標簽是一組標簽的集合，基本上用法都一致，如下：</p> <table><thead><tr><th>標簽</th> <th>含義</th></tr></thead> <tbody><tr><td>eq或者 equal</td> <td>等於</td></tr> <tr><td>neq 或者notequal</td> <td>不等於</td></tr> <tr><td>gt</td> <td>大於</td></tr> <tr><td>egt</td> <td>大於等於</td></tr> <tr><td>lt</td> <td>小於</td></tr> <tr><td>elt</td> <td>小於等於</td></tr> <tr><td>heq</td> <td>恒等於</td></tr> <tr><td>nheq</td> <td>不恒等於</td></tr></tbody></table> <p>他們的用法基本是一致的，區別在於判斷的條件不同，並且所有的比較標簽都可以和else標簽一起使用。
例如，要求name變量的值等於value就輸出，可以使用：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{eq name=&quot;name&quot; value=&quot;value&quot;}value{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{equal name=&quot;name&quot; value=&quot;value&quot;}value{/equal}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>也可以支持和else標簽混合使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;name&quot; value=&quot;value&quot;}
相等
{else/}
不相等
{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>當 name變量的值大於5就輸出</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{gt name=&quot;vod_name&quot; value=&quot;5&quot;}value{/gt}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>當name變量的值不小於5就輸出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{egt name=&quot;name&quot; value=&quot;5&quot;}value{/egt}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>比較標簽中的變量可以支持對象的屬性或者數組，甚至可以是系統變量，例如： 當vo對象的屬性（或者數組，或者自動判斷）等於5就輸出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;vo.vod_name&quot; value=&quot;5&quot;}
{$vo.vod_name}
{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>當<code>vo</code>對象的屬性等於5就輸出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;vo:vod_name&quot; value=&quot;5&quot;}
{$vo.vod_name}
{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>當<code>$vo['vod_name']</code>等於5就輸出</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{eq name=&quot;vo['vod_name']&quot; value=&quot;5&quot;}
{$vo.name}
{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>而且還可以支持對變量使用函數 當<code>vo</code>對象的屬性值的字符串長度等於<code>5</code>就輸出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;vo:name|strlen&quot; value=&quot;5&quot;}{$vo.name}{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>變量名可以支持Thinkphp5.0系統變量的方式，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;Think.get.name&quot; value=&quot;value&quot;}相等{else/}不相等{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通常比較標簽的值是一個字符串或者數字，如果需要使用變量，只需要在前面添加<code>$</code>標誌： 當<code>vo</code>對象的屬性等於<code>$a</code>就輸出</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{eq name=&quot;vo:vod_name&quot; value=&quot;$a&quot;}{$vo.vod_name}{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>所有的比較標簽可以統一使用<code>compare</code>標簽（其實所有的比較標簽都是<code>compare</code>標簽的別名），例如： 當<code>name</code>變量的值等於5就輸出</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{compare name=&quot;name&quot; value=&quot;5&quot; type=&quot;eq&quot;}value{/compare}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>等效於</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{eq name=&quot;name&quot; value=&quot;5&quot; }value{/eq}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中type屬性的值就是上面列出的比較標簽名稱</p> <h2 id="條件判斷"><a href="#條件判斷" class="header-anchor">#</a> 條件判斷</h2> <h3 id="switch標簽"><a href="#switch標簽" class="header-anchor">#</a> SWITCH標簽</h3> <p>用法：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{switch name=&quot;變量&quot; }
    {case value=&quot;值1&quot; break=&quot;0或1&quot;}輸出內容1{/case}
    {case value=&quot;值2&quot;}輸出內容2{/case}
    {default /}默認情況
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>使用方法如下：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{switch name=&quot;User.level&quot;}
    {case value=&quot;1&quot;}value1{/case}
    {case value=&quot;2&quot;}value2{/case}
    {default /}default
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>其中name屬性可以使用函數以及系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{switch name=&quot;Think.get.userId|abs&quot;}
    {case value=&quot;1&quot;}admin{/case}
    {default /}default
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>對於case的value屬性可以支持多個條件的判斷，使用”|”進行分割，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{switch name=&quot;Think.get.type&quot;}
    {case value=&quot;gif|png|jpg&quot;}圖像格式{/case}
    {default /}其他格式
{/switch}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>表示如果<code>$_GET[&quot;type&quot;]</code> 是<code>gif</code>、<code>png</code>或者<code>jpg</code>的話，就判斷為圖像格式。</p> <p><code>Case</code>標簽還有一個<code>break</code>屬性，表示是否需要<code>break</code>，默認是會自動添加<code>break</code>，如果不要<code>break</code>，可以使用：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{switch name=&quot;Think.get.userId|abs&quot;}
    {case value=&quot;1&quot; break=&quot;0&quot;}admin{/case}
    {case value=&quot;2&quot;}admin{/case}
    {default /}default
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以對case的value屬性使用變量，例如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{switch name=&quot;User.userId&quot;}
    {case value=&quot;$adminId&quot;}admin{/case}
    {case value=&quot;$memberId&quot;}member{/case}
    {default /}default
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>使用變量方式的情況下，不再支持多個條件的同時判斷。</p></div> <p>簡潔的用法</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{switch $User.userId}
    {case $adminId}admin{/case}
    {case $memberId}member{/case}
{/switch}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="if標簽"><a href="#if標簽" class="header-anchor">#</a> IF標簽</h3> <p>用法示例：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{if condition=&quot;($name == 1) OR ($name &gt; 100) &quot;} value1
{elseif condition=&quot;$name eq 2&quot;/}value2
{else /} value3
{/if}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>除此之外，我們可以在condition屬性裏面使用php代碼，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{if condition=&quot;strtoupper($user['name']) neq 'THINKPHP'&quot;}ThinkPHP
{else /} other Framework
{/if}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>condition屬性可以支持點語法和對象語法，例如： 自動判斷user變量是數組還是對象</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{if condition=&quot;$user.name neq 'ThinkPHP'&quot;}ThinkPHP
{else /} other Framework
{/if}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>或者知道user變量是對象</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{if condition=&quot;$user:name neq 'ThinkPHP'&quot;}ThinkPHP
{else /} other Framework
{/if}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>由於<code>if</code>標簽的<code>condition</code>屬性裏面基本上使用的是<code>php</code>語法，盡可能使用判斷標簽和<code>Switch</code>標簽會更加簡潔，原則上來說，能夠用<code>switch</code>和比較標簽解決的盡量不用<code>if</code>標簽完成。因為<code>switch</code>和比較標簽可以使用變量調節器和系統變量。如果某些特殊的要求下面，<code>IF</code>標簽仍然無法滿足要求的話，可以使用原生<code>php</code>代碼或者<code>PHP</code>標簽來直接書寫代碼。
簡潔的用法</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{if condition=&quot;表達式&quot;}
{if (表達式)}
{if 表達式}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>這三種寫法結果是一樣的</p> <h3 id="範圍判斷"><a href="#範圍判斷" class="header-anchor">#</a> 範圍判斷</h3> <p>範圍判斷標簽包括<code>in</code> <code>notin</code> <code>between</code> <code>notbetween</code>四個標簽，都用於判斷變量是否中某個範圍。</p> <h4 id="in和notin"><a href="#in和notin" class="header-anchor">#</a> IN和NOTIN</h4> <p>用法： 假設我們中控製器中給id賦值為1：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$id =    1;
$this-&gt;assign('id',$id);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>我們可以使用in標簽來判斷模板變量是否在某個範圍內，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{in name=&quot;id&quot; value=&quot;1,2,3&quot;}
id在範圍內
{/in}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>最後會輸出：<code>id</code>在範圍內。</p> <p>如果判斷不在某個範圍內，可以使用<code>notin</code>標簽：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{notin name=&quot;id&quot; value=&quot;1,2,3&quot;}
id不在範圍內
{/notin}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>最後會輸出：<code>id</code>不在範圍內。
可以把上面兩個標簽合並成為：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{in name=&quot;id&quot; value=&quot;1,2,3&quot;}
id在範圍內
{else/}
id不在範圍內
{/in}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>name</code>屬性還可以支持直接判斷系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{in name=&quot;Think.get.id&quot; value=&quot;1,2,3&quot;}
$_GET['id'] 在範圍內
{/in}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>更多的系統變量用法可以參考系統變量部分。</p></div> <p>value屬性也可以使用變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{in name=&quot;id&quot; value=&quot;$range&quot;}
id在範圍內
{/in}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>$range</code>變量可以是數組，也可以是以逗號分隔的字符串。
<code>value</code>屬性還可以使用系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{in name=&quot;id&quot; value=&quot;$Think.post.ids&quot;}
id在範圍內
{/in}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="between-和-notbetween"><a href="#between-和-notbetween" class="header-anchor">#</a> BETWEEN 和 NOTBETWEEN</h3> <p>可以使用between標簽來判斷變量是否在某個區間範圍內，可以使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;1,10&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>同樣，也可以使用notbetween標簽來判斷變量不在某個範圍內：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{notbetween name=&quot;id&quot; value=&quot;1,10&quot;}
輸出內容2
{/notbetween}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>也可以使用<code>else</code>標簽把兩個用法合並，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;1,10&quot;}
輸出內容1
{else/}
輸出內容2
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>當使用between標簽的時候，value只需要一個區間範圍，也就是只支持兩個值，後面的值無效，例如</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;1,3,10&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>實際判斷的範圍區間是<code>1~3</code>，而不是<code>1~10</code>，也可以支持字符串判斷，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;A,Z&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>name</code>屬性可以直接使用系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;Think.post.id&quot; value=&quot;1,5&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>value屬性也可以使用變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;$range&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>變量的值可以是字符串或者數組，還可以支持系統變量。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{between name=&quot;id&quot; value=&quot;$Think.get.range&quot;}
輸出內容1
{/between}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="range"><a href="#range" class="header-anchor">#</a> RANGE</h3> <p>也可以直接使用range標簽，替換前面的判斷用法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{range name=&quot;id&quot; value=&quot;1,2,3&quot; type=&quot;in&quot;}
輸出內容1
{/range}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其中<code>type</code>屬性的值可以用<code>in/notin/between/notbetween</code>，其它屬性的用法和<code>IN</code>或者<code>BETWEEN</code>一致。</p> <h3 id="present-notpresent標簽"><a href="#present-notpresent標簽" class="header-anchor">#</a> PRESENT NOTPRESENT標簽</h3> <p>present標簽用於判斷某個變量是否已經定義，用法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{present name=&quot;name&quot;}
name已經賦值
{/present}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果判斷沒有賦值，可以使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{notpresent name=&quot;name&quot;}
name還沒有賦值
{/notpresent}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以把上面兩個標簽合並成為：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{present name=&quot;name&quot;}
name已經賦值
{else /}
name還沒有賦值
{/present}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>present</code>標簽的<code>name</code>屬性可以直接使用系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{present name=&quot;Think.get.name&quot;}
$_GET['name']已經賦值
{/present}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="empty-notempty-標簽"><a href="#empty-notempty-標簽" class="header-anchor">#</a> EMPTY NOTEMPTY 標簽</h3> <p>empty標簽用於判斷某個變量是否為空，用法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{empty name=&quot;name&quot;}
name為空值
{/empty}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果判斷沒有賦值，可以使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{notempty name=&quot;name&quot;}
name不為空
{/notempty}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以把上面兩個標簽合並成為：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{empty name=&quot;name&quot;}
name為空
{else /}
name不為空
{/empty}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>name</code>屬性可以直接使用系統變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{empty name=&quot;Think.get.name&quot;}
$_GET['name']為空值
{/empty}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="defined-標簽"><a href="#defined-標簽" class="header-anchor">#</a> DEFINED 標簽</h3> <p>DEFINED標簽用於判斷某個常量是否有定義，用法如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{defined name=&quot;NAME&quot;}
NAME常量已經定義
{/defined}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>name屬性的值要註意嚴格大小寫</p></div> <p>如果判斷沒有被定義，可以使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{notdefined name=&quot;NAME&quot;}
NAME常量未定義
{/notdefined}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>可以把上面兩個標簽合並成為：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{defined name=&quot;NAME&quot;}
NAME常量已經定義
{else /}
NAME常量未定義
{/defined}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="標簽嵌套"><a href="#標簽嵌套" class="header-anchor">#</a> 標簽嵌套</h2> <p>模板引擎支持標簽的多層嵌套功能，可以對標簽庫的標簽指定可以嵌套。</p> <p>系統內置的標簽中，<code>volist</code>、<code>switch</code>、<code>if</code>、<code>elseif</code>、<code>else</code>、<code>foreach</code>、<code>compare</code>（包括所有的比較標簽）、（<code>not</code>）<code>present</code>、（n<code>ot</code>）<code>empty</code>、（<code>not</code>）<code>defined</code>等標簽都可以嵌套使用。例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{volist name=&quot;list&quot; id=&quot;vo&quot;}
    {volist name=&quot;vo['sub']&quot; id=&quot;sub&quot;}
        {$sub.name}
    {/volist}
{/volist}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>嵌套循環外層分類內部視頻或文章,重點在於外部和內部標簽各自設置 id 和 key，系統默認都是vo不適合會導致數據沖掉。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo1&quot; key=&quot;key1&quot;}
    {maccms:vod num=&quot;10&quot; type=&quot;'.$vo1['type_id'].'&quot; order=&quot;desc&quot; by=&quot;time&quot; id=&quot;vo2&quot; key=&quot;key2&quot;}
        {$vo1.type_name}:{$vo2.vod_name}；
    {/maccms:vod}
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>嵌套循環一級和二級分類數據</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4,5&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo&quot; key=&quot;key&quot;} 				  
	{maccms:type parent=&quot;'.$vo['type_id'].'&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo2&quot; key=&quot;key2&quot;} 
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>:mac_url_type($vo2)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$vo2.type_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	{/maccms:type}
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="使用php"><a href="#使用php" class="header-anchor">#</a> 使用PHP</h2> <p>php代碼可以和標簽在模板文件中混合使用，可以在模板文件裏面書寫任意的PHP語句代碼 ，包括下面兩種方式：</p> <h3 id="使用php標簽"><a href="#使用php標簽" class="header-anchor">#</a> 使用php標簽</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>{php}echo 'Hello,world!';{/php}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我們建議需要使用PHP代碼的時候盡量采用php標簽，因為原生的PHP語法可能會被配置禁用而導致解析錯誤。</p> <h3 id="使用原生php代碼"><a href="#使用原生php代碼" class="header-anchor">#</a> 使用原生php代碼</h3> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello,world!'</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>註意：php標簽或者php代碼裏面就不能再使用標簽（包括普通標簽和XML標簽）了，因此下面的幾種方式都是無效的：</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>{php}{eq name='name'value='value'}value{/eq}{/php}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Php標簽裏面使用了<code>eq</code>標簽，因此無效</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{php}if( {$user} != 'ThinkPHP' ) echo  'ThinkPHP' ;{/php}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>php標簽裏面使用了<code>{$user}</code>普通標簽輸出變量 ，因此無效。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{php}if( $user.name != 'ThinkPHP' ) echo  'ThinkPHP' ;{/php}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Php標簽裏面使用了$user.name 點語法變量輸出 ，因此無效。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>簡而言之，在PHP標簽裏面不能再使用PHP本身不支持的代碼。</p></div> <p>如果設置了<code>tpl_deny_php</code>參數為<code>true</code>，就不能在模板中使用原生的<code>PHP</code>代碼，但是仍然支持<code>PHP</code>標簽輸出。</p> <h3 id="自定義標簽"><a href="#自定義標簽" class="header-anchor">#</a> 自定義標簽</h3> <p><strong>ASSIGN標簽</strong> <code>ASSIGN</code>標簽用於在模板文件中定義變量，用法如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{assign name=&quot;var&quot; value=&quot;123&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在運行模板的時候，賦值了一個<code>var</code>的變量，值是<code>123</code>。</p> <p><code>value</code>屬性也支持變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{assign name=&quot;var&quot; value=&quot;$val&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者直接把系統變量賦值給var變量，例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{assign name=&quot;var&quot; value=&quot;$Think.get.name&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>相當於，執行了：<code>$var = $_GET['name'];</code></p> <p><strong>DEFINE標簽</strong> <code>DEFINE</code>標簽用於中模板中定義常量，用法如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{define name=&quot;MY_DEFINE_NAME&quot; value=&quot;3&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在運行模板的時候，就會定義一個<code>MY_DEFINE_NAME</code>的常量。</p> <p><code>value</code>屬性可以支持變量（包括系統變量），例如：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{define name=&quot;MY_DEFINE_NAME&quot; value=&quot;$name&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{define name=&quot;MY_DEFINE_NAME&quot; value=&quot;$Think.get.name&quot; /}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tc/theme/" class="prev router-link-active">
        介紹
      </a></span> <span class="next"><a href="/tc/theme/writing-a-theme.html">
        开发模板
      </a>
      →
    </span></p></div> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.6bc1aad0.js" defer></script><script src="/assets/js/5.b06b0d86.js" defer></script><script src="/assets/js/4.9ebf53b1.js" defer></script><script src="/assets/js/81.38985e17.js" defer></script><script src="/assets/js/8.a78a9654.js" defer></script>
  </body>
</html>
