(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{520:function(t,a,e){"use strict";e.r(a);var v=e(16),l=Object(v.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"采集接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#采集接口"}},[t._v("#")]),t._v(" 采集接口")]),t._v(" "),e("h2",{attrs:{id:"入庫接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#入庫接口"}},[t._v("#")]),t._v(" 入庫接口")]),t._v(" "),e("ul",[e("li",[t._v("站外入庫接口一般是給第三方軟件（如：火車頭、ET等）提供的入庫方案。")]),t._v(" "),e("li",[t._v("使用前請在後臺系統-站外入庫配置 設置好 免登錄入庫密碼，和 分類名稱對應系統分類規則。")]),t._v(" "),e("li",[t._v("系統默認api入庫接口文件為http://域名/api.php，根據需要可修改入庫文件。")])]),t._v(" "),e("h2",{attrs:{id:"下載模塊"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下載模塊"}},[t._v("#")]),t._v(" 下載模塊")]),t._v(" "),e("p",[t._v("官方提供的 "),e("a",{attrs:{href:"https://github.com/magicblack/maccms10/tree/master/%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3/%E7%81%AB%E8%BD%A6%E5%A4%B4%E6%A8%A1%E5%9D%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("【蘋果CMSV10火車頭入庫模塊】"),e("OutboundLink")],1),t._v("！")]),t._v(" "),e("h3",{attrs:{id:"火車頭配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#火車頭配置"}},[t._v("#")]),t._v(" 火車頭配置")]),t._v(" "),e("p",[t._v("網站根地址填寫 "),e("code",[t._v("http://域名/api.php/")]),t._v("點擊測試，輸入驗證密碼，何必要信息測試入庫。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("接口必要信息是")]),t._v(" "),e("p",[t._v("名稱， 分類ID 或 分類名稱 （如果同時存在以 分類ID為準）")])]),t._v(" "),e("h3",{attrs:{id:"入庫接口地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#入庫接口地址"}},[t._v("#")]),t._v(" 入庫接口地址")]),t._v(" "),e("ul",[e("li",[t._v("視頻 "),e("code",[t._v("/api.php/receive/vod")])]),t._v(" "),e("li",[t._v("文章 "),e("code",[t._v("/api.php/receive/art")])]),t._v(" "),e("li",[t._v("演員 "),e("code",[t._v("/api.php/receive/actor")])]),t._v(" "),e("li",[t._v("角色 "),e("code",[t._v("/api.php/receive/role")])]),t._v(" "),e("li",[t._v("網址 "),e("code",[t._v("/api.php/receive/website")])])]),t._v(" "),e("h3",{attrs:{id:"接口參數"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#接口參數"}},[t._v("#")]),t._v(" 接口參數")]),t._v(" "),e("ul",[e("li",[t._v("請求方式 "),e("code",[t._v("POST")])]),t._v(" "),e("li",[t._v("Content-Type "),e("code",[t._v("form-data")])])]),t._v(" "),e("p",[t._v("可以是模型的全字段，如視頻入庫可以使用 "),e("RouterLink",{attrs:{to:"/theme/theme-vod.html#視頻字段"}},[t._v("視頻字段")]),t._v(" 全部字段作為參數，")],1),t._v(" "),e("p",[e("strong",[t._v("通用必填參數")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("參數")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("示例值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("參數描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("pass")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("a54s848s")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("入庫密碼，後臺可自定義")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("type_id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("綁定分類id")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("XXX_name")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("極地救援預告片")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("名稱必填 vod_name、art_name、actor_name、vod_role")])])])]),t._v(" "),e("p",[e("strong",[t._v("視頻必填")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("參數")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("示例值")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("是否必填")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("參數描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("vod_play_from")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("dplayer")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("後臺播放器id ，空值會發布失敗")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("vod_play_url")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高清$http://www.baidu.com/vod.mp4")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("必填")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("播放地址，沒有播放地址會發布失敗")])])])]),t._v(" "),e("p",[t._v("多個播放組可是使用 "),e("code",[t._v("$$$")]),t._v(" 進行分割"),e("code",[t._v("id")]),t._v("，然後播放地址也要進行分組，也是用 "),e("code",[t._v("$$$")]),t._v(" 如下示例:")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 播放器分組 --\x3e")]),t._v("\ndplayer$$$videojs$$$ppvod\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 播放地址分組 --\x3e")]),t._v("\n高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4$$$ \n高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4$$$ \n高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4#高清$http://www.1.com/vod.mp4\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])]),e("p",[t._v("截圖字段"),e("code",[t._v("vod_pic_screenshot")]),t._v("入庫說明，多張圖片需要用"),e("code",[t._v("#")]),t._v("進行分割")]),t._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[t._v("https://img3.doubanio.com/view/photo/l/public/p2676386050.jpg#\nhttps://img1.doubanio.com/view/photo/l/public/p2717826857.jpg#\nhttps://img1.doubanio.com/view/photo/l/public/p2717826878.jpg#\nhttps://img1.doubanio.com/view/photo/l/public/p2717827518.jpg#\nhttps://img1.doubanio.com/view/photo/l/public/p2717341007.jpg#\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("註意")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("vod_play_from")]),t._v("字段入庫得值必須是後臺已經存在的播放器編碼，否則不會入庫，導致影片沒有播放器。")]),t._v(" "),e("li",[t._v("所以必須提前在後臺配置好相關的播放器，然後在采集入庫！")])])]),t._v(" "),e("h2",{attrs:{id:"開放資源api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#開放資源api"}},[t._v("#")]),t._v(" 開放資源api")]),t._v(" "),e("p",[t._v("api接口僅供提供數據，可以直接在蘋果CMS後臺聯盟采集中加入-並提供給他人采集。\n聯盟資源分配唯一標識ID，用來區別綁定分類，這個ID一般由蘋果CMS官方提供，不可隨意\n修改設置，否則造成入庫分類錯亂。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("視頻接口同時支持老板xml格式的數據，增加參數 &at=xml即可。")])]),t._v(" "),e("h3",{attrs:{id:"視頻列表地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#視頻列表地址"}},[t._v("#")]),t._v(" 視頻列表地址")]),t._v(" "),e("ul",[e("li",[t._v("接口地址 "),e("code",[t._v("/api.php/provide/vod/?ac=list")])])]),t._v(" "),e("h3",{attrs:{id:"視頻詳情地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#視頻詳情地址"}},[t._v("#")]),t._v(" 視頻詳情地址")]),t._v(" "),e("ul",[e("li",[t._v("接口地址 "),e("code",[t._v("/api.php/provide/vod/?ac=detail")])])]),t._v(" "),e("h3",{attrs:{id:"文章列表地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文章列表地址"}},[t._v("#")]),t._v(" 文章列表地址")]),t._v(" "),e("ul",[e("li",[t._v("接口地址 "),e("code",[t._v("/api.php/provide/art/?ac=list")])])]),t._v(" "),e("h3",{attrs:{id:"文章詳情地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文章詳情地址"}},[t._v("#")]),t._v(" 文章詳情地址")]),t._v(" "),e("ul",[e("li",[t._v("接口地址 "),e("code",[t._v("/api.php/provide/art/?ac=detail")])])])])}),[],!1,null,null,null);a.default=l.exports}}]);