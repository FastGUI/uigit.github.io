(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{507:function(a,s,t){"use strict";t.r(s);var e=t(16),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"程序安全"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#程序安全"}},[a._v("#")]),a._v(" 程序安全")]),a._v(" "),t("h2",{attrs:{id:"挂马清理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#挂马清理"}},[a._v("#")]),a._v(" 挂马清理")]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("小白通用清理php后门办法简单易懂")]),a._v(" "),t("p",[a._v("注意：为了安全起见 每次发现被挂马后应该用以下方法来处理！！！")])]),a._v(" "),t("p",[a._v("黑客入侵后可能在数据库挂js，可能在网站目录任何角落留下php后门，用以下方法可以快速清理干净php后门，不用一个一个文件去分析。")]),a._v(" "),t("ul",[t("li",[a._v("1，备份原网站配置文件 ，并检查里边是否有后门代码，正常情况下<?php内是一个return array返回数组，如果还有其他<?php块就是后门。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\\application\\database.php\n\\application\\route.php\n\\application\\extra\\maccms.php\n\\application\\extra\\bind.php\n\\application\\extra\\timming.php\n\\application\\extra\\vodplayer.php\n\\application\\extra\\voddowner.php\n\\application\\extra\\vodserver.php\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("ul",[t("li",[a._v("2，检查以下目录搜索 *.php ，删除所有;并检查模板文件内是否有<?php或{php代码段删除。")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\\template\\\n\\upload\\\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br")])]),t("ul",[t("li",[a._v("3，删除原有目录及所有文件，并下载最新程序包，覆盖")])]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("\\addons\\\n\\application\\\n\\extend\\\n\\static\\\n\\runtime\\\n\\thinkphp\\\n\\vendor\\\n\\说明文档\\\n\\admin.php 自定义后台入口文件\n\\api.php 自定义api入口文件\n\\index.php\n\\install.php\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("ul",[t("li",[a._v("4，把刚才备份的配置文件覆盖到application下即可")]),a._v(" "),t("li",[a._v("5，修改后台入口文件名；登录后台检查管理员账号并修改密码，删除多余被黑客创建的账号；")])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("使用盗版模板、盗版插件需要注意一下代码是否有问题，白嫖是要技术资本，否则就是一网站安全为代价！")])]),a._v(" "),t("h2",{attrs:{id:"关于盗版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于盗版"}},[a._v("#")]),a._v(" 关于盗版")]),a._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[a._v("使用假冒、盗版程序危害巨大")]),a._v(" "),t("p",[a._v("网络上流传很多版本，甚至很多自称是苹果cms官方网站，这一点大家一定要擦亮的双眼，看清楚了。从 2019 年苹果cms因涉及影视侵权被关闭官网后第一时间发布GitHub的版本，因此我认定这个版本的为正版苹果cms，这个叫 "),t("code",[a._v("magicblack")]),a._v("的用户也持续在维护中。")])]),a._v(" "),t("h3",{attrs:{id:"github"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#github"}},[a._v("#")]),a._v(" GitHub")]),a._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[a._v("https://github.com/magicblack\nhttps://github.com/magicblack/maccms10\nhttps://github.com/magicblack/maccms8\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://github.com/magicblack/maccms10",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/github/issues/magicblack/maccms10",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://github.com/magicblack/maccms10",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/github/forks/magicblack/maccms10",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://github.com/magicblack/maccms10",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/github/stars/magicblack/maccms10",alt:"img"}}),t("OutboundLink")],1),a._v(" "),t("a",{attrs:{href:"https://github.com/magicblack/maccms10",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://img.shields.io/github/license/magicblack/maccms10",alt:"img"}}),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"jsdelivr加速下载-jsdelivr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsdelivr加速下载-jsdelivr"}},[a._v("#")]),a._v(" Jsdelivr加速下载 "),t("a",{attrs:{href:"https://cdn.jsdelivr.net/gh/magicblack/maccms_down/",target:"_blank",rel:"noopener noreferrer"}},[a._v("'Jsdelivr'"),t("OutboundLink")],1)]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("https://cdn.jsdelivr.net/gh/magicblack/maccms_down/\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("最后提示")]),a._v(" "),t("p",[a._v("一个优秀并且开源的程序出现盗版，这一点都不奇怪，并且出现一些争议性的谣言也是可以理解，当然世界上也不存在绝对安全无漏洞的程序，关键在于有没有人无偿地、永久地维护这个程序！")])]),a._v(" "),t("h2",{attrs:{id:"利用cloudflare防止cc攻击"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#利用cloudflare防止cc攻击"}},[a._v("#")]),a._v(" 利用cloudflare防止cc攻击")]),a._v(" "),t("p",[a._v("经过大量研究和自己被cc攻击的经验，这帮人手里大部分ip都是国外的，而你的网站针对的是国内人群，所以只需要屏蔽国外ip就可以达到很好的拦截cc攻击效果。")]),a._v(" "),t("p",[a._v("1，首先你得有 "),t("a",{attrs:{href:"http://cloudflare.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("'http://cloudflare.com'"),t("OutboundLink")],1),a._v(" 的账户，添加域名，按提示把域名"),t("code",[a._v("dns")]),a._v("服务器修改。")]),a._v(" "),t("p",[a._v("2，点击顶部菜单 【防火墙】，选择进入 创建防火墙规则\n"),t("img",{attrs:{src:"https://camo.githubusercontent.com/c6f6036646eac5e1bc320e6ad77d8ce700f399ffe9b6d4b8aa973b3d7e66207d/68747470733a2f2f706963322e7a68696d672e636f6d2f38302f76322d39663832666561336336333266393661633233373761306434316335623838645f373230772e6a7067",alt:"创建防火墙规则",title:"bt-1.jpg"}})]),a._v(" "),t("p",[a._v("这里演示除了 中国大陆，香港，台湾意外 全部 进入JS质询（或阻止）。表达式是")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("ip.geoip.country ne "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"CN"')]),a._v(" and ip.geoip.country ne "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"HK"')]),a._v(" and ip.geoip.country ne "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TW"')]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("3，填写相关内容，名称随意 按照国家来筛选拦截即可。\n"),t("img",{attrs:{src:"https://camo.githubusercontent.com/7fcda85d590610b824c32081016f2f226e819a751878fd6cfb5af52948e69582/68747470733a2f2f706963342e7a68696d672e636f6d2f38302f76322d39363533306364383361396366383437643764656230303630373761643530375f373230772e6a7067",alt:"'限制国家地区'"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);