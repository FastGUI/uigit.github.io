<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>标签大全 | 苹果cmsV10</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script src="https://s9.cnzz.com/z_stat.php?id=1280223273&amp;web_id=1280223273"></script>
    <meta name="description" content="基于ThinkPHP和Layui的多功能开源免费内容管理系统">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.aeeac44f.css" as="style"><link rel="preload" href="/assets/js/app.454e982e.js" as="script"><link rel="preload" href="/assets/js/5.0f02ed52.js" as="script"><link rel="preload" href="/assets/js/4.9ebf53b1.js" as="script"><link rel="preload" href="/assets/js/31.997b17e2.js" as="script"><link rel="preload" href="/assets/js/8.a78a9654.js" as="script"><link rel="prefetch" href="/assets/js/10.6b1fb4c4.js"><link rel="prefetch" href="/assets/js/100.5160f346.js"><link rel="prefetch" href="/assets/js/101.f19bb3ab.js"><link rel="prefetch" href="/assets/js/102.3b7193ab.js"><link rel="prefetch" href="/assets/js/103.de54a7c8.js"><link rel="prefetch" href="/assets/js/104.5ba672d9.js"><link rel="prefetch" href="/assets/js/105.e3f428ef.js"><link rel="prefetch" href="/assets/js/106.6aa9a9ab.js"><link rel="prefetch" href="/assets/js/107.4339e35c.js"><link rel="prefetch" href="/assets/js/108.184df7e1.js"><link rel="prefetch" href="/assets/js/109.cee58c68.js"><link rel="prefetch" href="/assets/js/11.a1ff2cf2.js"><link rel="prefetch" href="/assets/js/110.21f139d4.js"><link rel="prefetch" href="/assets/js/111.0e4a3519.js"><link rel="prefetch" href="/assets/js/12.655dd338.js"><link rel="prefetch" href="/assets/js/13.2fd4565a.js"><link rel="prefetch" href="/assets/js/14.41035e8f.js"><link rel="prefetch" href="/assets/js/15.43ed14a4.js"><link rel="prefetch" href="/assets/js/16.554ab8a9.js"><link rel="prefetch" href="/assets/js/17.7163bf50.js"><link rel="prefetch" href="/assets/js/18.aadb0281.js"><link rel="prefetch" href="/assets/js/19.44a84c76.js"><link rel="prefetch" href="/assets/js/20.7a2e4dae.js"><link rel="prefetch" href="/assets/js/21.c0914018.js"><link rel="prefetch" href="/assets/js/22.07a6c194.js"><link rel="prefetch" href="/assets/js/23.3844690f.js"><link rel="prefetch" href="/assets/js/24.94d743b5.js"><link rel="prefetch" href="/assets/js/25.264b8114.js"><link rel="prefetch" href="/assets/js/26.86ebdd29.js"><link rel="prefetch" href="/assets/js/27.a00c1087.js"><link rel="prefetch" href="/assets/js/28.bf893a3b.js"><link rel="prefetch" href="/assets/js/29.860383c6.js"><link rel="prefetch" href="/assets/js/30.f4ae9fbf.js"><link rel="prefetch" href="/assets/js/32.e271549d.js"><link rel="prefetch" href="/assets/js/33.11d14c56.js"><link rel="prefetch" href="/assets/js/34.a297e062.js"><link rel="prefetch" href="/assets/js/35.04dd51c6.js"><link rel="prefetch" href="/assets/js/36.d6bb745c.js"><link rel="prefetch" href="/assets/js/37.b06986c8.js"><link rel="prefetch" href="/assets/js/38.dfc1b1af.js"><link rel="prefetch" href="/assets/js/39.1bce230b.js"><link rel="prefetch" href="/assets/js/40.a351a86b.js"><link rel="prefetch" href="/assets/js/41.7a2814b1.js"><link rel="prefetch" href="/assets/js/42.6cfac026.js"><link rel="prefetch" href="/assets/js/43.f10f506f.js"><link rel="prefetch" href="/assets/js/44.575dae05.js"><link rel="prefetch" href="/assets/js/45.6d904baa.js"><link rel="prefetch" href="/assets/js/46.5b9cf4c7.js"><link rel="prefetch" href="/assets/js/47.758ac20c.js"><link rel="prefetch" href="/assets/js/48.657159fb.js"><link rel="prefetch" href="/assets/js/49.a1c695f2.js"><link rel="prefetch" href="/assets/js/50.9a6962ce.js"><link rel="prefetch" href="/assets/js/51.df03d224.js"><link rel="prefetch" href="/assets/js/52.a242c7d4.js"><link rel="prefetch" href="/assets/js/53.75648dc4.js"><link rel="prefetch" href="/assets/js/54.2221a73e.js"><link rel="prefetch" href="/assets/js/55.601e097a.js"><link rel="prefetch" href="/assets/js/56.fbc7f7e5.js"><link rel="prefetch" href="/assets/js/57.586f45c3.js"><link rel="prefetch" href="/assets/js/58.a82dec74.js"><link rel="prefetch" href="/assets/js/59.168fc3a9.js"><link rel="prefetch" href="/assets/js/6.b8c76823.js"><link rel="prefetch" href="/assets/js/60.0be14338.js"><link rel="prefetch" href="/assets/js/61.c54a967e.js"><link rel="prefetch" href="/assets/js/62.1831eaef.js"><link rel="prefetch" href="/assets/js/63.5c429457.js"><link rel="prefetch" href="/assets/js/64.62b31a65.js"><link rel="prefetch" href="/assets/js/65.dc5dee1f.js"><link rel="prefetch" href="/assets/js/66.4f024f5e.js"><link rel="prefetch" href="/assets/js/67.7d020b84.js"><link rel="prefetch" href="/assets/js/68.d7063186.js"><link rel="prefetch" href="/assets/js/69.dcba9abd.js"><link rel="prefetch" href="/assets/js/7.021220db.js"><link rel="prefetch" href="/assets/js/70.6a5836e9.js"><link rel="prefetch" href="/assets/js/71.fc0a2665.js"><link rel="prefetch" href="/assets/js/72.0bde1e00.js"><link rel="prefetch" href="/assets/js/73.ce1e3d60.js"><link rel="prefetch" href="/assets/js/74.9a2eea47.js"><link rel="prefetch" href="/assets/js/75.95ff2207.js"><link rel="prefetch" href="/assets/js/76.6ad186a4.js"><link rel="prefetch" href="/assets/js/77.d9daf226.js"><link rel="prefetch" href="/assets/js/78.1e2e019a.js"><link rel="prefetch" href="/assets/js/79.1ae84123.js"><link rel="prefetch" href="/assets/js/80.a92b106d.js"><link rel="prefetch" href="/assets/js/81.38985e17.js"><link rel="prefetch" href="/assets/js/82.800d48a6.js"><link rel="prefetch" href="/assets/js/83.a4d860b9.js"><link rel="prefetch" href="/assets/js/84.745761dd.js"><link rel="prefetch" href="/assets/js/85.1820c378.js"><link rel="prefetch" href="/assets/js/86.f0a0114a.js"><link rel="prefetch" href="/assets/js/87.7b896c80.js"><link rel="prefetch" href="/assets/js/88.e1b2ad87.js"><link rel="prefetch" href="/assets/js/89.b6bce2d1.js"><link rel="prefetch" href="/assets/js/9.e75c031f.js"><link rel="prefetch" href="/assets/js/90.10e6e2e5.js"><link rel="prefetch" href="/assets/js/91.d9d7c359.js"><link rel="prefetch" href="/assets/js/92.507915e4.js"><link rel="prefetch" href="/assets/js/93.75e3169d.js"><link rel="prefetch" href="/assets/js/94.fece6a8a.js"><link rel="prefetch" href="/assets/js/95.82af2a17.js"><link rel="prefetch" href="/assets/js/96.5bd6a09a.js"><link rel="prefetch" href="/assets/js/97.bc488cde.js"><link rel="prefetch" href="/assets/js/98.21025b51.js"><link rel="prefetch" href="/assets/js/99.b06983b9.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.2b48bf23.js"><link rel="prefetch" href="/assets/js/vendors~notification.14a64265.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aeeac44f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">苹果cmsV10</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  配置
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/theme/" class="nav-link">
  模板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/api/collect.html" class="nav-link">
  采集接口
</a></li><li class="dropdown-subitem"><a href="/api/web-design.html" class="nav-link">
  前端接口
</a></li></ul></li><li class="dropdown-item"><h4>
          站长手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/template.html" class="nav-link">
  买模板
</a></li><li class="dropdown-subitem"><a href="/webmaster/server.html" class="nav-link">
  服务器
</a></li><li class="dropdown-subitem"><a href="/webmaster/ads.html" class="nav-link">
  广告联盟
</a></li><li class="dropdown-subitem"><a href="/faq/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/webmaster/glossary.html" class="nav-link">
  行业术语
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/migration-guide.html" class="nav-link">
  其他cms转苹果cms
</a></li><li class="dropdown-subitem"><a href="/webmaster/transfer.html" class="nav-link">
  网站搬家
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="v10.x" class="dropdown-title"><span class="title">v10.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="v10.x" class="mobile-dropdown-title"><span class="title">v10.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  v10.x
</a></li><li class="dropdown-item"><!----> <a href="https://www.maccms.la/doc/v8/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v8.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/tags.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tc/guide/tags.html" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/magicblack/maccms10" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/config/" class="nav-link">
  配置
</a></div><div class="nav-item"><a href="/plugin/" class="nav-link">
  插件
</a></div><div class="nav-item"><a href="/theme/" class="nav-link">
  模板
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          API
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/api/collect.html" class="nav-link">
  采集接口
</a></li><li class="dropdown-subitem"><a href="/api/web-design.html" class="nav-link">
  前端接口
</a></li></ul></li><li class="dropdown-item"><h4>
          站长手册
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/template.html" class="nav-link">
  买模板
</a></li><li class="dropdown-subitem"><a href="/webmaster/server.html" class="nav-link">
  服务器
</a></li><li class="dropdown-subitem"><a href="/webmaster/ads.html" class="nav-link">
  广告联盟
</a></li><li class="dropdown-subitem"><a href="/faq/" class="nav-link">
  常见问题
</a></li><li class="dropdown-subitem"><a href="/webmaster/glossary.html" class="nav-link">
  行业术语
</a></li></ul></li><li class="dropdown-item"><h4>
          其他
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webmaster/migration-guide.html" class="nav-link">
  其他cms转苹果cms
</a></li><li class="dropdown-subitem"><a href="/webmaster/transfer.html" class="nav-link">
  网站搬家
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="v10.x" class="dropdown-title"><span class="title">v10.x</span> <span class="arrow down"></span></button> <button type="button" aria-label="v10.x" class="mobile-dropdown-title"><span class="title">v10.x</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  v10.x
</a></li><li class="dropdown-item"><!----> <a href="https://www.maccms.la/doc/v8/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v8.x
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/tags.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/tc/guide/tags.html" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/magicblack/maccms10" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">MacCms V10.x</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">快速上手</a></li><li><a href="/guide/directory-structure.html" class="sidebar-link">目录结构</a></li><li><a href="/guide/basic-config.html" class="sidebar-link">模板插件</a></li><li><a href="/guide/assets.html" class="sidebar-link">第三方资源</a></li><li><a href="/guide/lang.html" class="sidebar-link">多语言支持</a></li><li><a href="/guide/update-log.html" class="sidebar-link">更新日志</a></li><li><a href="/guide/often-sql.html" class="sidebar-link">常用SQL语句</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/help.html" class="sidebar-link">常见问题</a></li><li><a href="/guide/security.html" class="sidebar-link">程序安全</a></li><li><a href="/guide/coffee.html" class="sidebar-link">捐赠支持</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="标签大全"><a href="#标签大全" class="header-anchor">#</a> 标签大全</h1> <p>模板从除了支持所有<code>tp5</code>模板标签外还另外新增了自己的标签系统，方便开发者灵活运用这些标签来制作自己喜欢的主题模板。 模板标签语法和tp5一样使用<code>{}</code>大括号包裹php变量如：<code>{$maccms['site_name']}</code>或者<code>{$maccms.site_name}</code>两种语法效果一样。</p> <h2 id="模板结构"><a href="#模板结构" class="header-anchor">#</a> 模板结构</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>必须严格遵守标准的目录结构进行创建模板，否则会前端访问导致异常！</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>========模板结构=======
 │─template/1/  模板1
  │  ├─info.ini  模板信息文件
  │  ├─ads   广告文件目录
  │  ├─js    js文件
  │  ├─css   css文件
  │  ├─images   图片文件
  │  └─html     模板文件目录
  │      └─art     文章模块模板目录
  │      └─comment  评论模块模板目录
  │      └─gbook    留言本模块模板目录
  │      └─index    首页模块模板目录
  │      └─label    自定义页面模块模板目录
  │      └─map      地图页模块模板目录
  │      └─public   公共页面模板目录
  │      └─rss      RSS和sitemap模板目录
  │      └─topic    专题模块模板目录
  │      └─user     用户中心模块模板目录
  │      └─vod      视频模块模板目录
  │      └─plot     分集剧情模块模板目录
  │      └─website  网址导航模块模板目录
  │─tempalte/2/  模板2
  │─...
  │─template/n/  模板N
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="info-ini介绍"><a href="#info-ini介绍" class="header-anchor">#</a> info.ini介绍</h3> <p>里边包含了对模板文件的简单介绍，及adsdir广告文件存放目录的设置，默认广告目录为ads</p> <h3 id="模板html文件和用途"><a href="#模板html文件和用途" class="header-anchor">#</a> 模板html文件和用途</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>public/include.html    全站公共引入文件 引入js、css样式，还有系统JS变量
public/head.html       全站头部
public/foot.html       全站尾部
public/jump.html       跳转提示页模板
public/msg.html        错误提示页模板
public/paging.html     分页样式模板
public/digg.html       顶踩样式模板
public/score.html      普通评分样式模板
public/star.html       星星评分样式模板
│
comment/index.html     评论页
comment/ajax.html     评论页
gbook/index.html       留言本
gbook/report.html      报错页面
│
index/index.html     首页
│
map/rss.html    rss
map/baidu.html   百度sitemap
map/google.html  谷歌sitemap
│
topic/index.html   专题首页
topic/detail.html  专题详情页
│
art/confirm.html     确认支付积分页面
art/detail.html      文章内容页
art/detail_pwd.html      验证密码页
art/rss.html         文章内容rss
art/search.html      文章搜索页
art/type.html        文章分类页
art/show.html        文章分类筛选页
│
vod/confirm.html     确认支付积分页面
vod/copyright.html      版权提示和跳转
vod/detail.html      视频内容页
vod/detail_pwd.html      验证密码页
vod/rss.html         视频内容rss
vod/play.html        视频播放页
vod/player.html      试看页面播放页
vod/player_pwd.html      验证密码页
vod/down.html        视频下载页
vod/downer_pwd.html      验证密码页
vod/search.html      视频搜索页面
vod/type.html        视频分类页面
vod/show.html        视频分类筛选页
vod/plot.html        视频分集剧情列表
│
user/ajax_info.html   用户弹出层登录详情
user/ajax_login.html  用户弹出层登录界面
user/buy.html         用户中心-在线充值
user/cards.html       用户中心-充值卡记录
user/cash.html       用户中心-提现记录
user/downs.html       用户中心-下载记录
user/favs.html        用户中心-收藏记录
user/findpass.html    用户中心-找回密码
user/findpass_msg.html    用户中心-找回密码提示信息
user/foot.html        用户中心-公共底部
user/head.html        用户中心-公共头部
user/include.html     用户中心-公共引入文件
user/index.html       用户中心-首页
user/info.html        用户中心-个人详情
user/login.html       用户中心-登录页
user/orders.html      用户中心-在线充值记录
user/pay.html         用户中心-支付页
user/payment_weixin.html         用户中心-支付微信二维码
user/plays.html       用户中心-点播记录
user/popedom.html     用户中心-权限列表
user/reg.html         用户中心-注册
user/reward.html     用户中心-分销记录
user/upgrade.html     用户中心-会员升级
│
plot/index.html        分集剧情首页
plot/detail.html       分集剧情详情页
|
actor/index.html        演员首页
actor/detail.html       演员详情页
actor/search.html       演员网址搜索页
actor/show.html       演员筛选页
actor/type.html       演员分类页
|
role/index.html        角色首页
role/detail.html       角色详情页
role/show.html         角色筛选页
│
website/index.html        网址导航首页
website/detail.html       网址详情页
website/search.html       网址搜索页
website/show.html       网址筛选页
website/type.html       网址分类页
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><h3 id="局部引入模板html文件"><a href="#局部引入模板html文件" class="header-anchor">#</a> 局部引入模板html文件</h3> <p>模块化开发小技巧，可以将公用<code>头部</code>、<code>页脚</code>、<code>代码块</code>等作为单独的 html文件，然后在其他html页面引入即可，</p> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token keyword">include</span> file<span class="token operator">=</span><span class="token string double-quoted-string">&quot;public/include&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token keyword">include</span> file<span class="token operator">=</span><span class="token string double-quoted-string">&quot;public/head&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token keyword">include</span> file<span class="token operator">=</span><span class="token string double-quoted-string">&quot;public/foot&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="全局标签"><a href="#全局标签" class="header-anchor">#</a> 全局标签</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>全局标签可以在所有页面调用</p></div> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_name<span class="token punctuation">}</span>网站名称
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_url<span class="token punctuation">}</span>网站url
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_wapurl<span class="token punctuation">}</span> wap网站url
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_logo<span class="token punctuation">}</span>网站logo
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_waplogo<span class="token punctuation">}</span> wap网站logo
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_keywords<span class="token punctuation">}</span>网站关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_description<span class="token punctuation">}</span>网站描述
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_icp<span class="token punctuation">}</span>备案号
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_qq<span class="token punctuation">}</span>站长qq
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_email<span class="token punctuation">}</span>站长email 
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_tj<span class="token punctuation">}</span>统计代码；也可以用<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>path<span class="token punctuation">}</span><span class="token keyword">static</span><span class="token operator">/</span>js<span class="token operator">/</span>tj<span class="token operator">.</span>js 来动态引入统计代码。
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_status<span class="token punctuation">}</span>网站状态<span class="token number">1</span>开启<span class="token number">0</span>关闭
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>site_close_tip<span class="token punctuation">}</span>网站关闭提示信息
 
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>path<span class="token punctuation">}</span>网站目录
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>path_tpl<span class="token punctuation">}</span>当前模板目录
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>date<span class="token punctuation">}</span> 当前日期
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>search_hot<span class="token punctuation">}</span>       热门搜索词
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>art_extend_class<span class="token punctuation">}</span>       全局文章扩展分类
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_class<span class="token punctuation">}</span>       全局视频扩展分类
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_state<span class="token punctuation">}</span>       全局视频资源
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_version<span class="token punctuation">}</span>       全局视频版本
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_area<span class="token punctuation">}</span>       全局视频地区
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_lang<span class="token punctuation">}</span>       全局视频语言
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_year<span class="token punctuation">}</span>       全局视频年代
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>vod_extend_weekday<span class="token punctuation">}</span>       全局视频更新周期
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>actor_extend_area<span class="token punctuation">}</span>       全局演员地区
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>http_type<span class="token punctuation">}</span>  当前url访问协议，会输出 http<span class="token punctuation">:</span><span class="token comment">// 或者 https://</span>
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>controller_action<span class="token punctuation">}</span> 当前页面触发的程序路径controller<span class="token operator">/</span>action


如果<span class="token variable">$maccms</span><span class="token operator">.</span>标签不够用，想调用其他配置项的内容，可以用<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span> 来获取到
例如
<span class="token punctuation">{</span><span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'site'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'site_name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
其他项：具体包含哪些属性可以调试查看下<span class="token punctuation">;</span><span class="token punctuation">{</span>php<span class="token punctuation">}</span> <span class="token function">dump</span><span class="token punctuation">(</span><span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">die</span><span class="token punctuation">;</span> <span class="token punctuation">{</span><span class="token operator">/</span>php<span class="token punctuation">}</span>

<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'site'</span><span class="token punctuation">]</span> 站点配置 
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'app'</span><span class="token punctuation">]</span> 预留参数配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'user'</span><span class="token punctuation">]</span> 用户配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'gbook'</span><span class="token punctuation">]</span> 留言本配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'comment'</span><span class="token punctuation">]</span> 评论配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'upload'</span><span class="token punctuation">]</span> 上传配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'interface'</span><span class="token punctuation">]</span> 站外入库配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pay'</span><span class="token punctuation">]</span> 支付配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'collect'</span><span class="token punctuation">]</span> 采集配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'api'</span><span class="token punctuation">]</span> api配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'connect'</span><span class="token punctuation">]</span> 第三方登录配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'weixin'</span><span class="token punctuation">]</span> 微信配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'view'</span><span class="token punctuation">]</span> url浏览模式配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">]</span> url静态路径配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'rewrite'</span><span class="token punctuation">]</span> 路由配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'weixin'</span><span class="token punctuation">]</span> 微信配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span> 邮件配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'play'</span><span class="token punctuation">]</span> 播放器配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'urlsend'</span><span class="token punctuation">]</span> url推送配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'sms'</span><span class="token punctuation">]</span> 短信配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'extra'</span><span class="token punctuation">]</span> 自定义参数配置
<span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'config'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'seo'</span><span class="token punctuation">]</span> <span class="token constant">SEO</span>参数配置

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token constant">SEO</span>参数信息<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> 
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>vod<span class="token operator">.</span>name<span class="token punctuation">}</span>  视频首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>vod<span class="token operator">.</span>key<span class="token punctuation">}</span>  视频首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>vod<span class="token operator">.</span>des<span class="token punctuation">}</span>  视频首页<span class="token constant">SEO</span>描述
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>art<span class="token operator">.</span>name<span class="token punctuation">}</span>  文章首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>art<span class="token operator">.</span>key<span class="token punctuation">}</span>  文章首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>art<span class="token operator">.</span>des<span class="token punctuation">}</span>  文章首页<span class="token constant">SEO</span>描述

<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>actor<span class="token operator">.</span>name<span class="token punctuation">}</span>  演员首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>actor<span class="token operator">.</span>key<span class="token punctuation">}</span>  演员首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>actor<span class="token operator">.</span>des<span class="token punctuation">}</span>  演员首页<span class="token constant">SEO</span>描述

<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>role<span class="token operator">.</span>name<span class="token punctuation">}</span>  角色首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>role<span class="token operator">.</span>key<span class="token punctuation">}</span>  角色首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>role<span class="token operator">.</span>des<span class="token punctuation">}</span>  角色首页<span class="token constant">SEO</span>描述
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>plot<span class="token operator">.</span>name<span class="token punctuation">}</span>  剧情首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>plot<span class="token operator">.</span>key<span class="token punctuation">}</span>  剧情首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>plot<span class="token operator">.</span>des<span class="token punctuation">}</span>  剧情首页<span class="token constant">SEO</span>描述
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>website<span class="token operator">.</span>name<span class="token punctuation">}</span>  网址导航首页<span class="token constant">SEO</span>标题
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>website<span class="token operator">.</span>key<span class="token punctuation">}</span>  网址导航首页<span class="token constant">SEO</span>关键字
<span class="token punctuation">{</span><span class="token variable">$maccms</span><span class="token operator">.</span>seo<span class="token operator">.</span>website<span class="token operator">.</span>des<span class="token punctuation">}</span>  网址导航首页<span class="token constant">SEO</span>描述

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><h3 id="下方高能"><a href="#下方高能" class="header-anchor">#</a> ------------------下方高能------------------------------</h3> <p><code>$GLOBALS['type_id']</code>  当前分类页ID，在（分类页，筛选页，内容页，播放页，下载页都有值）
<code>$GLOBALS['type_pid']</code>  当前分类页父ID，在（分类页，筛选页，内容页，播放页，下载页都有值）</p> <p><code>{$maccms.mid}</code>模块id，1=&gt;'视频',2=&gt;'文章',3=&gt;'专题',4=&gt;'评论',5=&gt;'留言',6=&gt;'用户中心',7=&gt;'自定义页面',8=&gt;'演员',9=&gt;'角色',10=&gt;'剧情',11=&gt;'网址'</p> <p><code>{$maccms.aid}</code>当前系统页面id</p> <ul><li>首页<code>1</code></li> <li>地图<code>2</code></li> <li>rss<code>3</code></li> <li>留言本<code>4</code></li> <li>评论<code>5</code></li> <li>用户中心<code>6</code></li> <li>自定义页面<code>7</code></li></ul> <h4 id="视频模块"><a href="#视频模块" class="header-anchor">#</a> 视频模块</h4> <ul><li>视频首页 <code>10</code></li> <li>视频分类页 <code>11</code></li> <li>视频分类筛选 <code>12</code></li> <li>视频搜索 <code>13</code></li> <li>视频详情 <code>14</code></li> <li>视频播放 <code>15</code></li> <li>视频下载 <code>16</code></li> <li>视频角色 <code>17</code></li></ul> <h4 id="文章模块"><a href="#文章模块" class="header-anchor">#</a> 文章模块</h4> <ul><li>文章首页 <code>20</code></li> <li>文章分类 <code>21</code></li> <li>文章分类筛选 <code>22</code></li> <li>文章搜索 <code>23</code></li> <li>文章详情 <code>24</code></li></ul> <h4 id="专题模块"><a href="#专题模块" class="header-anchor">#</a> 专题模块</h4> <ul><li>专题首页 <code>30</code></li> <li>专题搜索 <code>33</code></li> <li>专题详情 <code>34</code></li></ul> <h4 id="演员模块"><a href="#演员模块" class="header-anchor">#</a> 演员模块</h4> <ul><li>演员首页 <code>80</code></li> <li>演员分类 <code>81</code></li> <li>演员筛选 <code>82</code></li> <li>演员搜索 <code>83</code></li> <li>演员详情 <code>84</code></li></ul> <h4 id="角色模块"><a href="#角色模块" class="header-anchor">#</a> 角色模块</h4> <ul><li>角色首页 <code>90</code></li> <li>角色搜索 <code>93</code></li> <li>角色详情 <code>94</code></li></ul> <h4 id="剧情模块"><a href="#剧情模块" class="header-anchor">#</a> 剧情模块</h4> <ul><li>剧情首页 <code>100</code></li> <li>剧情搜索 <code>103</code></li> <li>剧情想请 <code>104</code></li></ul> <h4 id="网址模块"><a href="#网址模块" class="header-anchor">#</a> 网址模块</h4> <ul><li>网址导航首页 <code>110</code></li> <li>网址导航分类 <code>111</code></li> <li>网址导航筛选 <code>112</code></li> <li>网址导航搜索 <code>113</code></li> <li>网址导航详情 <code>114</code></li></ul> <h2 id="分类列表标签"><a href="#分类列表标签" class="header-anchor">#</a> 分类列表标签</h2> <ul><li><code>order</code> 排列顺序desc倒序，asc正序</li> <li><code>by</code> 排序依据  id,sort</li> <li><code>start</code> 从第几条开始</li> <li><code>num</code> 获取条数</li> <li><code>ids</code> 指定分类 parent 获取一级分类；child获取子分类；1,2,3一组指定ID；</li> <li><code>parent</code> 父分类id</li> <li><code>flag</code> 视频=vod文章=art</li> <li><code>not</code> 排除id</li> <li><code>cachetime</code> 自定义缓存时间单位秒</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type num=&quot;10&quot; order=&quot;asc&quot; by=&quot;sort&quot; ids=&quot;all&quot;}
   <span class="token comment">&lt;!-- 内部同下方 分类页独有标签 ，只需 {$obj.改为{$vo.开头即可 --&gt;</span>
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>嵌套标签获取一级及二级</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo1&quot; key=&quot;key1&quot;}
  <span class="token comment">&lt;!-- 一级分类：{$vo1.type_name}- --&gt;</span>
  {maccms:type parent=&quot;'.$vo1['type_id'].'&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo2&quot; key=&quot;key2&quot;}
     <span class="token comment">&lt;!-- 二级分类{$vo2.type_name} --&gt;</span>
  {/maccms:type}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="分类页独有标签"><a href="#分类页独有标签" class="header-anchor">#</a> 分类页独有标签</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>只可以在 <code>type.html</code> 模板内独立使用</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.parent} 如果当前访问的是二级分类，这个是一级分类对象，也同样包含以下属性，如{$obj.parent.type_id}一级分类id
{$obj.type_id} 分类id
{$obj.type_name} 名称
{$obj.type_en} 别名
{$obj.type_sort} 排序号
{$obj.type_mid} 所属模块
{$obj.type_pid} 上级id
{$obj.type_status} 状态1开启0关闭
{$obj.type_tpl} 分类页模板
{$obj.type_tpl_list} 筛选页模板
{$obj.type_tpl_detail} 详情页模板
{$obj.type_tpl_play} 播放页模板
{$obj.type_tpl_down} 下载页模板
{$obj.type_key} 关键字
{$obj.type_des} 描述信息
{$obj.type_title} 标题
{$obj.type_extend} 扩展配置json
{$obj.type_logo} 分类图标
{$obj.type_pic} 分类封面
{$obj.type_jumpurl} 跳转url
{:mac_url_type($obj)} 分类链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="专题列表标签"><a href="#专题列表标签" class="header-anchor">#</a> 专题列表标签</h2> <ul><li><code>order</code> 排列顺序desc倒序，asc正序</li> <li><code>by</code> 排序依据 id, time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd</li> <li><code>start</code> 从第几条开始</li> <li><code>num</code> 获取条数</li> <li><code>ids</code> 指定1,2,3一组指定ID；</li> <li><code>timeadd</code> 添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>timehits</code> 点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>time</code> 更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>hitsmonth</code> 月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsweek</code> 周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsday</code> 日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hits</code> 总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>paging</code> 是否分页yes</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:topic num=&quot;10&quot; paging=&quot;no&quot; order=&quot;asc&quot; by=&quot;sort&quot; ids=&quot;all&quot;}
   <span class="token comment">&lt;!-- 内部同下方，{$obj.改为{$vo.开头即可 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$vo.topic_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
{/maccms:topic}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="专题页独有标签"><a href="#专题页独有标签" class="header-anchor">#</a> 专题页独有标签</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>只可以在 <code>topic/detail.html</code> 模板内独立使用</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.topic_id} 专题id
{$obj.topic_name} 名称
{$obj.topic_en} 别名
{$obj.topic_sub} 副标
{$obj.topic_status} 状态
{$obj.topic_sort} 排序号
{$obj.topic_letter} 首字母
{$obj.topic_color} 高亮颜色
{$obj.topic_tpl} 模板文件
{$obj.topic_type} 扩展分类
{$obj.topic_pic} 图片
{$obj.topic_pic_thumb} 缩略图
{$obj.topic_pic_slide} 幻灯图
{$obj.topic_key} seo关键字
{$obj.topic_des} seo描述
{$obj.topic_title} seo标题
{$obj.topic_blurb} 简介
{$obj.topic_remarks} 备注
{$obj.topic_level} 推荐值
{$obj.topic_up} 顶数
{$obj.topic_down} 踩数
{$obj.topic_score} 平均分
{$obj.topic_score_all} 总评分
{$obj.topic_score_num} 总评次
{$obj.topic_hits} 总点击
{$obj.topic_hits_day} 日点击
{$obj.topic_hits_week} 周点击
{$obj.topic_hits_month} 月点击
{$obj.topic_time} 更新时间
{$obj.topic_time_add} 添加时间
{$obj.topic_content} 详细介绍
{$obj.topic_extend} 扩展配置json
{$obj.topic_rel_vod|explode=',',###|count} 专题包含视频数量
{$obj.topic_rel_art|explode=',',###|count} 专题包含文章数量
{:mac_url_topic_detail($obj)} 专题详情页链接
{:mac_url_topic_index()}  专题首页链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h2 id="视频列表标签"><a href="#视频列表标签" class="header-anchor">#</a> 视频列表标签</h2> <ul><li><code>order</code> 排列顺序desc倒序，asc正序</li> <li><code>by</code> 排序依据 id,time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd</li> <li><code>start</code> 从第几条开始</li> <li><code>num</code> 获取条数</li> <li><code>ids</code> 指定1,2,3一组ID；</li> <li><code>not</code> 不抱含id 多个逗号链接</li> <li><code>type</code> 指定获取分类数据 all所有；1,2,3指定；</li> <li><code>class</code> 指定某扩展分类 支持多个 动作,喜剧</li> <li><code>tag</code> 指定tag 支持多个  aaa,xxx</li> <li><code>level</code> 指定推荐值 支持多个  1,2</li> <li><code>area</code> 指定地区 支持多个  大陆,香港</li> <li><code>lang</code> 指定语言 支持多个  国语,粤语</li> <li><code>year</code> 指定年代 支持多个 2002,2003</li> <li><code>state</code> 资源类别 支持多个 高清版,剧场版,抢先版</li> <li><code>version</code> 资源版本 支持多个 正片,预告片</li> <li><code>weekday</code> 更新周期 支持多个  一,二,三</li> <li><code>rel</code> 指定关联数据 1,2,3 或 变形金刚</li> <li><code>timeadd</code> 添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>timehits</code> 点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>time</code> 更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>hitsmonth</code> 月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsweek</code> 周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsday</code>日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hits</code> 总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>paging</code> 是否分页yes</li> <li><code>pageurl</code> 分页地址</li> <li><code>cachetime</code> 自定义缓存时间单位秒</li> <li><code>isend</code>是否连载完毕   0,1</li> <li><code>plot</code>是否包含分集剧情 0,1</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:vod num=&quot;10&quot; paging=&quot;no&quot; type=&quot;all&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   <span class="token comment">&lt;!-- 内部同下方，{$obj.改为{$vo.开头即可 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>{$vo.vod_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
{/maccms:vod}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <p>只可以在 <code>vod/detail.html</code> 模板内独立使用</p></div> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.vod_id} 视频id
{$obj.type_id} 分类id
{$obj.type_id_1} 一级分类id
{$obj.type} 分类对象，二级属性可参考分类属性
{$obj.type.type_name} 分类名
{$obj.type.type_en} 分类拼音
{$obj.type_1} 一级分类对象，二级属性可参考分类属性
{$obj.type_1.type_name} 一级分类名
{$obj.type_1.type_en} 一级分类拼音
{$obj.group_id} 用户组id
{$obj.vod_name} 视频名
{$obj.vod_sub} 副标题
{$obj.vod_en} 别名
{$obj.vod_status} 状态0未审1已审
{$obj.vod_letter} 首字母
{$obj.vod_color} 颜色
{$obj.vod_tag} tags 
{$obj.vod_class} 扩展分类
{$obj.vod_pic} 图片
{$obj.vod_pic_thumb} 缩略图
{$obj.vod_pic_slide} 幻灯图
{$obj.vod_pic_screenshot}截图多个图片用$$$连接
{$obj.vod_actor} 主演
{$obj.vod_director} 导演
{$obj.vod_writer}编剧
{$obj.vod_behind}幕后
{$obj.vod_blurb} 简介
{$obj.vod_remarks} 备注
{$obj.vod_pubdate}上映日期
{$obj.vod_total} 总集数
{$obj.vod_serial} 连载数
{$obj.vod_tv} 上映电视台
{$obj.vod_weekday} 节目周期
{$obj.vod_area} 地区
{$obj.vod_lang} 语言
{$obj.vod_year} 年代
{$obj.vod_version} 版本-dvd,hd,720p
{$obj.vod_state} 资源类别-正片,预告片,花絮
{$obj.vod_author} 编辑人员
{$obj.vod_jumpurl} 跳转url
{$obj.vod_tpl} 独立模板
{$obj.vod_tpl_play} 独立播放页模板
{$obj.vod_tpl_down} 独立下载页模板
{$obj.vod_isend} 是否完结
{$obj.vod_lock} 锁定1
{$obj.vod_level} 推荐级别
{$obj.vod_points} 访问整个视频所需积分
{$obj.vod_points_play} 每集点播付费
{$obj.vod_points_down} 每集下载付费
{$obj.vod_hits} 总点击量
{$obj.vod_hits_day} 日点击量
{$obj.vod_hits_week} 周点击量
{$obj.vod_hits_month} 月点击量
{$obj.vod_duration} 时长
{$obj.vod_up} 顶数
{$obj.vod_down} 踩数
{$obj.vod_score} 平均分
{$obj.vod_score_all} 总评分
{$obj.vod_score_num} 评分次数
{$obj.vod_time} 更新时间
{$obj.vod_time_add} 添加时间
{$obj.vod_time_hits} 点击时间
{$obj.vod_time_make} 生成时间
{$obj.vod_trysee} 试看时长分
{$obj.vod_reurl} 来源地址
{$obj.vod_rel_vod} 关联视频ids
{$obj.vod_rel_art} 关联文章ids
{$obj.vod_content} 详细介绍
{$obj.vod_pwd} 访问内容页密码
{$obj.vod_pwd_url} 获取密码链接
{$obj.vod_pwd_play} 访问播放页密码
{$obj.vod_pwd_play_url} 获取密码链接
{$obj.vod_pwd_down} 访问下载页密码
{$obj.vod_pwd_down_url} 获取密码链接
{$obj.vod_copyright} 是否开启版权提示
{$obj.vod_play_from} 播放组
{$obj.vod_play_server} 播放服务器组
{$obj.vod_play_note} 播放备注
{$obj.vod_play_url} 播放地址
{$obj.vod_down_from} 下载租
{$obj.vod_down_server} 下载服务器组
{$obj.vod_down_note} 下载备注
{$obj.vod_down_url} 下载地址
{$obj.vod_plot} 是否包含分集剧情
{$obj.vod_plot_name} 分集剧情名称
{$obj.vod_plot_detail} 分集剧情详情


{:mac_url_vod_detail($obj)}  视频详情页链接
{:mac_url_vod_play($obj,['sid'=&gt;1,'nid'=&gt;1])}   视频播放页链接
{:mac_url_vod_play($obj,'first')}   视频播放页第一条链接
{:mac_url_vod_down($obj,['sid'=&gt;1,'nid'=&gt;1])}   视频下载页链接
{:mac_url_vod_down($obj,'first')}   视频下载页第一条链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><h3 id="多个截图获取调用例子"><a href="#多个截图获取调用例子" class="header-anchor">#</a> 多个截图获取调用例子</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{notempty name=&quot;$obj.vod_pic_screenshot&quot;}
{volist name=&quot;:explode('$$$',$obj.vod_pic_screenshot);&quot; id=&quot;vo2&quot;}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_img($vo2)}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
{/volist}
{/notempty}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="视频播放地址和下载地址标签"><a href="#视频播放地址和下载地址标签" class="header-anchor">#</a> 视频播放地址和下载地址标签</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 播放 --&gt;</span>
{maccms:foreach name=&quot;obj.vod_play_list&quot; id=&quot;vo&quot;}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ui-box marg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>playlist_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.from}-在线播放<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>[{$vo.player_info.tip}]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video_list fn-clear<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {maccms:foreach name=&quot;vo.urls&quot; id=&quot;vo2&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_vod_play($obj,[<span class="token punctuation">'</span>sid<span class="token punctuation">'</span>=&gt;$vo.sid,<span class="token punctuation">'</span>nid<span class="token punctuation">'</span>=&gt;$vo2.nid])}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>{$vo2.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {/maccms:foreach}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{/maccms:foreach}
<span class="token comment">&lt;!-- 下载 --&gt;</span>
{maccms:foreach name=&quot;obj.vod_down_list&quot; id=&quot;vo&quot;}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ui-box marg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>downlist_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.from}-下载<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>[{$vo.player_info.tip}]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video_list fn-clear<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {maccms:foreach name=&quot;vo.urls&quot; id=&quot;vo2&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_vod_down($obj,[<span class="token punctuation">'</span>sid<span class="token punctuation">'</span>=&gt;$vo.sid,<span class="token punctuation">'</span>nid<span class="token punctuation">'</span>=&gt;$vo2.nid])}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>{$vo2.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {/maccms:foreach}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{/maccms:foreach}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>如何在播放页或下载页只显示当前分组的地址呢？外层循环标签不变，只需要加一个判断就可以了。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
{maccms:foreach name=&quot;obj.vod_play_list&quot; id=&quot;vo&quot;}
{if condition=&quot;$vo.sid eq $param.sid&quot;}    ---------------------重点是这句if判断
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ui-box marg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>playlist_1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.from}-在线播放<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>[{$vo.player_info.tip}]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video_list fn-clear<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {maccms:foreach name=&quot;vo.urls&quot; id=&quot;vo2&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_vod_play($obj,[<span class="token punctuation">'</span>sid<span class="token punctuation">'</span>=&gt;$vo.sid,<span class="token punctuation">'</span>nid<span class="token punctuation">'</span>=&gt;$vo2.nid])}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>{$vo2.name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {/maccms:foreach}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{/if}
{/maccms:foreach}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="上边循环过程中-其中获取播放器详细信息的方法是"><a href="#上边循环过程中-其中获取播放器详细信息的方法是" class="header-anchor">#</a> 上边循环过程中，其中获取播放器详细信息的方法是</h3> <ul><li><code>{$vo.player_info.from}</code> 编码</li> <li><code>{$vo.player_info.show}</code> 名称</li> <li><code>{$vo.player_info.des}</code>备注</li> <li><code>{$vo.player_info.tip}</code> 提示</li> <li><code>{$vo.player_info.sort}</code> 排序</li> <li><code>{$vo.player_info.parse}</code> 解析接口</li> <li><code>{$vo.player_info.target}</code> 目标窗口  当前_self 和 新页_blank ，可以直接用在a标签的target属性上</li> <li><code>{$vo.from}</code> 播放器编码</li> <li><code>{$vo.note}</code> 备注</li> <li><code>{$vo.url}</code>  url地址</li> <li><code>{$vo.url_count}</code> 集数</li></ul> <h3 id="视频播放页独有标签"><a href="#视频播放页独有标签" class="header-anchor">#</a> 视频播放页独有标签</h3> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>只可以在 <code>vod/play.html</code> 模板内独立使用</p></div> <ul><li><p><code>{$param.sid}</code> 当前播放组序号</p></li> <li><p><code>{$param.nid}</code> 当前集数序号</p></li> <li><p><code>{$obj.player_info.link_next}</code> 下一页地址，最后一页时此链接将当前页链接</p></li> <li><p><code>{$obj.player_info.link_pre}</code> 上一页地址，第一页时此链接将当前页链接</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]}</code> 获取当前播放组数据</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['player_info']}</code>  播放器信息</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['server_info']}</code>  服务器组信息</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['url_count']}</code> 总集数</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['urls']}</code> 集数信息</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['urls'][$param['nid']]}</code> 当前集数信息</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['urls'][$param['nid']]['name']}</code>当前集数名称</p></li> <li><p><code>{$obj['vod_play_list'][$param['sid']]['urls'][$param['nid']]['url']}</code>当前集数url</p></li></ul> <p>下载页获取以上信息，请把<code>vod_play_list</code>改为<code>vod_down_list</code>，其他参数不变</p> <p><code>{$player_data}</code> 播放数据
<code>{$player_js}</code> 加载播放器</p> <p><strong>获取与当前视频相关联视频和关联文章数据</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>与<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>“{$obj.vod_name}”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>关联的视频<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-list dis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {maccms:vod num=&quot;6&quot; ids=&quot;'.$obj['vod_rel_vod'].'&quot; order=&quot;desc&quot; by=&quot;time&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_vod_detail($vo)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_img($vo.vod_pic)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.vod_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>{$vo.vod_version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {/maccms:vod}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>与<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>“{$obj.vod_name}”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>关联的文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-list dis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {maccms:art num=&quot;6&quot; ids=&quot;'.$obj['vod_rel_art'].'&quot; order=&quot;desc&quot; by=&quot;time&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_art_detail($vo)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.art_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_img($vo.art_pic)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.art_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.art_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>{$vo.vod_from}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {/maccms:art}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>版权跳转？配合后台提供的跳转url字段，在内容页播放页通用。</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token keyword">if</span> condition<span class="token operator">=</span><span class="token string">&quot;$obj.vod_jumpurl neq ''&quot;</span><span class="token punctuation">}</span>
        location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'{$obj.vod_jumpurl}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果想判断每集是否跳转，可把要跳转的集数地址写成固定的格式，方便读取和操作。
比如火影忍者有10集， 第2集版权跳转，地址写为jump://baidu.com
在播放页加入代码 只跳转这一集</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">{</span><span class="token keyword">if</span> condition<span class="token operator">=</span><span class="token string">&quot;strpos($obj['vod_play_list'][$param['sid']]['urls'][$param['nid']]['url'],'jump:')!==false &quot;</span><span class="token punctuation">}</span>
        location<span class="token punctuation">.</span>href<span class="token operator">=</span><span class="token string">'{$obj['</span>vod_play_list<span class="token string">'][$param['</span>sid<span class="token string">']]['</span>urls<span class="token string">'][$param['</span>nid<span class="token string">']]['</span>url<span class="token string">']|str_replace=&quot;jump:&quot;,&quot;http:&quot;,###}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="剧情页独有标签"><a href="#剧情页独有标签" class="header-anchor">#</a> 剧情页独有标签</h3> <ul><li><p><code>{$obj['vod_plot_list'][$param['page']]['name']}</code> 分集剧情名称</p></li> <li><p><code>{$obj['vod_plot_list'][$param['page']]['detail']}</code>分集剧情详情</p></li> <li><p><code>mac_url_plot_detail($obj,['page'=&gt;1])</code> 分集剧情详情页地址</p></li> <li><p><code>mac_url_plot_index()</code> 分集剧情首页，建议放一些热门剧包含剧情分类的数据</p></li> <li><p><code>mac_url_vod_plot($obj)</code>  某个视频的分集剧情列表</p></li></ul> <h2 id="文章列表标签"><a href="#文章列表标签" class="header-anchor">#</a> 文章列表标签</h2> <ul><li><code>order</code> 排列顺序desc倒序，asc正序</li> <li><code>by</code> 排序依据 id,time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd</li> <li><code>start</code>从第几条开始</li> <li><code>num</code> 获取条数</li> <li><code>ids</code> 指定1,2,3一组ID；</li> <li><code>not</code> 不抱含id 多个逗号链接</li> <li><code>type</code> 指定获取分类数据 all所有；1,2,3指定；</li> <li><code>class</code> 指定某扩展分类 支持多个</li> <li><code>tag</code> 指定tag 支持多个  aaa,xxx</li> <li><code>level</code> 指定推荐值 支持多个</li> <li><code>rel</code> 指定关联数据 1,2,3 或 变形金刚</li> <li><code>timeadd</code> 添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>timehits</code> 点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>time</code> 更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>hitsmonth</code> 月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsweek</code> 周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsday</code> 日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hits</code> 总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>paging</code> 是否分页yes</li> <li><code>pageurl</code> 分页地址</li> <li><code>cachetime</code> 自定义缓存时间单位秒</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:art num=&quot;10&quot; paging=&quot;no&quot; type=&quot;all&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   <span class="token comment">&lt;!-- 内部同下方，{$obj.改为{$vo.开头即可 --&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{$vo.art_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
{/maccms:art}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="文章内容页独有标签"><a href="#文章内容页独有标签" class="header-anchor">#</a> 文章内容页独有标签</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{$obj.art_id} 文章id
{$obj.type_id} 分类id
{$obj.type_id_1} 一级分类id
{$obj.type} 分类对象，二级属性可参考分类属性
{$obj.type.type_name} 分类名
{$obj.type.type_en} 分类拼音
{$obj.type_1} 一级分类对象，二级属性可参考分类属性
{$obj.type_1.type_name} 一级分类名
{$obj.type_1.type_en} 一级分类拼音
{$obj.group_id} 用户组id
{$obj.art_name} 标题
{$obj.art_sub} 副标题
{$obj.art_en} 别名
{$obj.art_status} 状态0未审1已审
{$obj.art_letter} 首字母
{$obj.art_color} 颜色
{$obj.art_from} 来源
{$obj.art_author} 作者
{$obj.art_tag} tags
{$obj.art_class} 扩展分类
{$obj.art_pic} 主图
{$obj.art_pic_thumb} 缩略图
{$obj.art_pic_slide} 幻灯图
{$obj.art_pic_screenshot}截图多个图片用$$$连接
{$obj.art_blurb} 简介
{$obj.art_remarks} 备注
{$obj.art_jumpurl} 跳转url
{$obj.art_tpl} 独立模板
{$obj.art_level} 推荐等级
{$obj.art_lock} 锁定
{$obj.art_up} 顶数
{$obj.art_down} 踩数
{$obj.art_hits} 总点击量
{$obj.art_hits_day} 日点击量
{$obj.art_hits_week} 周点击量
{$obj.art_hits_month} 月点击量
{$obj.art_time} 更新时间
{$obj.art_time_add} 添加时间
{$obj.art_time_hits} 点击时间
{$obj.art_time_make} 生成时间
{$obj.art_score} 平均分
{$obj.art_score_all} 总评分
{$obj.art_score_num} 评分次数
{$obj.art_rel_art} 关联文章
{$obj.art_rel_vod} 关联视频
{$obj.art_title} 页标题
{$obj.art_note} 页备注
{$obj.art_content} 页详细介绍
{$obj.art_points} 访问整个文章所需点数
{$obj.art_points_detail} 访问每一页所需点数
{$obj.art_pwd} 访问密码
{$obj.art_pwd_url} 密码获取链接
{:mac_url_art_detail($obj)}  文章详情页链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h3 id="获取与当前文章相关联视频和关联文章数据"><a href="#获取与当前文章相关联视频和关联文章数据" class="header-anchor">#</a> 获取与当前文章相关联视频和关联文章数据</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>与<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>“{$obj.art_name}”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>关联的视频<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-list dis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {maccms:vod num=&quot;6&quot; rel=&quot;'.$obj['art_rel_vod'].'&quot; order=&quot;desc&quot; by=&quot;time&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_vod_detail($vo)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_img($vo.vod_pic)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.vod_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.vod_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>{$vo.vod_version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {/maccms:vod}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>与<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>“{$obj.art_name}”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>关联的文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img-list dis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {maccms:art num=&quot;6&quot; rel=&quot;'.$obj['art_rel_art'].'&quot; order=&quot;desc&quot; by=&quot;time&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_art_detail($vo)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.art_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{:mac_url_img($vo.art_pic)}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vo.art_name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{$vo.art_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span><span class="token punctuation">&gt;</span></span>{$vo.vod_from}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    {/maccms:art}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="文章分页内容特有标签"><a href="#文章分页内容特有标签" class="header-anchor">#</a> 文章分页内容特有标签</h3> <ul><li><code>{$obj['art_page_list'][$param['page']]}</code>分页内容数组，包含标题备注，分页内容</li> <li><code>{$obj['art_page_list'][$param['page']]['title']}</code>分页标题</li> <li><code>{$obj['art_page_list'][$param['page']]['note']}</code>分页备注</li> <li><code>{$obj['art_page_list'][$param['page']]['content']}</code>分页内容</li></ul> <h3 id="分页内容标签"><a href="#分页内容标签" class="header-anchor">#</a> 分页内容标签</h3> <ul><li>分页代码可用在分类页、筛选页、搜索页、文章内容页、留言本、评论、专题首页等页面，使用前提是页面有包含<code>paging='yes'</code>获取- 分页数据的标签。</li> <li>其中包含隐藏参数<code>pageurl=&quot;&quot;</code>视频默认是<code>vod/type</code>，文章分页默认是<code>art/type</code>，分页时必须加入此参数以免分页出错！！！</li> <li>例如：<code>{maccms:vod num=&quot;10&quot; paging=&quot;yes&quot; pageurl=&quot;vod/type&quot; half=&quot;3&quot;} {/maccms:vod}</code></li> <li>视频分类页是<code>pageurl=&quot;vod/type&quot;</code></li> <li>视频筛选页是<code>pageurl=&quot;vod/show&quot;</code></li> <li>视频搜索页是<code>pageurl=&quot;vod/search&quot;</code></li> <li>首页是<code>pageurl=&quot;index/index&quot;</code></li> <li>文章分类页是<code>pageurl=&quot;art/type&quot;</code></li> <li>文章筛选页是<code>pageurl=&quot;art/show&quot;</code></li> <li>文章搜索页是<code>pageurl=&quot;art/search&quot;</code></li> <li>其中<code>half</code>参数是设置显示分页数字页码的个数，不设置默认为<code>5</code>。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_pages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_tip<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>共{$__PAGING__.record_total}条数据,当前{$__PAGING__.page_current}/{$__PAGING__.page_total}页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url|mac_url_page=1}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>首页<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url|mac_url_page=$__PAGING__.page_prev}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>上一页<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>上一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {maccms:foreach name=&quot;$__PAGING__.page_num&quot; id=&quot;num&quot;}
        {if condition=&quot;$__PAGING__['page_current'] eq $num&quot;}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link page_current<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第{$num}页<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$num}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {else}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url|mac_url_page=$num}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>第{$num}页<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>{$num}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        {/if}
        {/maccms:foreach}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url|mac_url_page=$__PAGING__.page_next}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>下一页<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>下一页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url|mac_url_page=$__PAGING__.page_total}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>尾页<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>尾页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>页码<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>40px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page_btn mac_page_go<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_url}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_total}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sp</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$__PAGING__.page_sp}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>GO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="用户的信息标签"><a href="#用户的信息标签" class="header-anchor">#</a> 用户的信息标签</h2> <blockquote><p>非静态模式下，可获取到的当前登录用户的信息；用户中心里各个界面也可用以下参数{$obj.开头}</p></blockquote> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$user.user_id} 用户编号
{$user.user_name} 登录名
{$user.user_nick_name} 昵称
{$user.user_email} 邮箱
{$user.user_qq}  QQ
{$user.user_phone} 联系电话
{$user.user_portrait}  头像
{$user.user_points} 积分
{$user.user_reg_time} 注册时间
{$user.user_reg_ip} 注册ip
{$user.user_login_time} 登录时间
{$user.user_login_ip} 登录ip
{$user.user_last_login_time} 上次登录时间
{$user.user_last_login_ip} 上次登录ip
{$user.user_login_num} 登录次数
{$user.user_end_time} vip截止期限
{$user.group_id}用户组编号
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="友情链接列表"><a href="#友情链接列表" class="header-anchor">#</a> 友情链接列表</h2> <ul><li><code>order</code>排列顺序desc倒序，asc正序</li> <li><code>by</code>排序依据 id,sort</li> <li><code>start</code>从第几条开始</li> <li><code>num</code>获取条数</li> <li><code>type</code>指定获取类型数据 all所有；font文字链接，pic图片链接；</li> <li><code>cachetime</code>自定义缓存时间单位秒</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:link num=&quot;10&quot; type=&quot;all&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   {$vo.link_id}编号
   {$vo.link_name}名称
   {$vo.link_type}类型0文字1图片
   {$vo.link_url}链接
   {$vo.link_sort}排序
   {$vo.link_logo}图标
   {$vo.link_add_time} 添加时间
   {$vo.link_time} 更新时间
{/maccms:link}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="留言本列表标签"><a href="#留言本列表标签" class="header-anchor">#</a> 留言本列表标签</h2> <ul><li><code>order</code>排列顺序desc倒序，asc正序</li> <li><code>by</code>排序依据 id,time,reply_time</li> <li><code>start</code>从第几条开始</li> <li><code>num</code>获取条数</li> <li><code>rid</code>关联数据id</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>
{maccms:gbook num=&quot;10&quot; paging=&quot;yes&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   {$vo.gbook_id}编号
   {$vo.gbook_name}昵称
   {$vo.gbook_status}状态0未审核1已审核
   {$vo.gbook_ip}ip地址
   {$vo.gbook_time} 时间
   {$vo.gbook_content} 留言内容
   {$vo.gbook_reply_time} 回复时间
   {$vo.gbook_reply} 回复内容
{/maccms:gbook}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>调用方式：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Gbook<span class="token punctuation">.</span>Login <span class="token operator">=</span> <span class="token punctuation">{</span>$gbook<span class="token punctuation">.</span>login<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Gbook<span class="token punctuation">.</span>Verify <span class="token operator">=</span> <span class="token punctuation">{</span>$gbook<span class="token punctuation">.</span>verify<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Gbook<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="评论列表标签"><a href="#评论列表标签" class="header-anchor">#</a> 评论列表标签</h2> <ul><li><code>order</code>排列顺序desc倒序，asc正序</li> <li><code>by</code>排序依据  id, time,up,down</li> <li><code>start</code>从第几条开始</li> <li><code>num</code>获取条数</li> <li><code>rid</code>关联数据id</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:comment num=&quot;10&quot; paging=&quot;yes&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   {$vo.comment_id}编号
   {$vo.comment_mid}模块id，1视频2文字3专题
   {$vo.comment_name}昵称
   {$vo.comment_status}状态0未审核1已审核
   {$vo.comment_ip}ip地址
   {$vo.comment_time} 时间
   {$vo.comment_content} 留言内容
   {$vo.comment_up} 顶数
   {$vo.comment_down} 踩数
   {$vo.comment_report} 举报
{/maccms:comment}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>调用方式，例如视频内容页中：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_comment<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
   <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Comment<span class="token punctuation">.</span>Login <span class="token operator">=</span> <span class="token punctuation">{</span>$comment<span class="token punctuation">.</span>login<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Comment<span class="token punctuation">.</span>Verify <span class="token operator">=</span> <span class="token punctuation">{</span>$comment<span class="token punctuation">.</span>verify<span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Comment<span class="token punctuation">.</span><span class="token function">Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token constant">MAC</span><span class="token punctuation">.</span>Comment<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="演员列表标签"><a href="#演员列表标签" class="header-anchor">#</a> 演员列表标签</h2> <ul><li><code>order</code>排列顺序desc倒序，asc正序</li> <li><code>by</code>排序依据  id, time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd,in</li> <li><code>start</code>从第几条开始</li> <li><code>num</code>获取条数</li> <li><code>ids</code>指定id 多个逗号连接</li> <li><code>not</code>不抱含id 多个逗号链接</li> <li><code>type</code>指定获取分类数据 all所有；1,2,3指定</li> <li><code>area</code>指定地区</li> <li><code>sex</code>指定性别 男 女</li> <li><code>letter</code>指定首字母</li> <li><code>level</code>指定推荐值 支持多个  1,2</li> <li><code>area</code>指定地区 支持多个  大陆,香港</li> <li><code>name</code>指定演员支持多个  刘德华,周华健</li> <li><code>blood</code>指定血型支持多个  A型,B型</li> <li><code>starsign</code>指定星座支持多个  处女座,天蝎座,白羊座</li> <li><code>timeadd</code>添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>timehits</code>点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>time</code>更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>hitsmonth</code>月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsweek</code>周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsday</code>日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hits</code>总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>paging</code>是否分页yes</li> <li><code>pageurl</code>分页地址</li> <li><code>cachetime</code>自定义缓存时间单位秒</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:actor num=&quot;10&quot; paging=&quot;no&quot; area=&quot;大陆&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   <span class="token comment">&lt;!-- 内部同下方，{$obj.改为{$vo.开头即可 --&gt;</span>

{/maccms:actor}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="演员内容页独有标签"><a href="#演员内容页独有标签" class="header-anchor">#</a> 演员内容页独有标签</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$obj.actor_id} 演员id
{$obj.type_id} 分类id
{$obj.type_id_1} 一级分类id
{$obj.actor_name} 姓名
{$obj.actor_en} 拼音
{$obj.actor_alias} 别名
{$obj.actor_status} 状态
{$obj.actor_lock} 锁定
{$obj.actor_letter} 首字母  
{$obj.actor_sex} 性别
{$obj.actor_color} 高亮颜色
{$obj.actor_pic} 图片
{$obj.actor_blurb} 简介
{$obj.actor_remarks} 备注
{$obj.actor_tag} tags
{$obj.actor_class} 扩展分类
{$obj.actor_area} 地区
{$obj.actor_height} 身高
{$obj.actor_weight} 体重
{$obj.actor_birthday} 生日
{$obj.actor_birtharea} 出生地
{$obj.actor_blood} 血型
{$obj.actor_starsign} 星座
{$obj.actor_school} 毕业院校
{$obj.actor_works} 主要作品多个逗号相连
{$obj.actor_level} 推荐值
{$obj.actor_up} 顶数
{$obj.actor_down} 踩数
{$obj.actor_score} 平均分
{$obj.actor_score_all} 总评分
{$obj.actor_score_num} 评分次数
{$obj.actor_time} 更新时间
{$obj.actor_time_add} 添加时间
{$obj.actor_time_hits} 点击时间
{$obj.actor_time_make} 生成时间
{$obj.actor_tpl} 自定义模板
{$obj.actor_jumpurl} 跳转url
{$obj.actor_content} 详情
{$obj|mac_url_actor_detail} 获取演员详情页链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h2 id="角色列表标签"><a href="#角色列表标签" class="header-anchor">#</a> 角色列表标签</h2> <h3 id="标签参数"><a href="#标签参数" class="header-anchor">#</a> 标签参数</h3> <p><code>order</code>排列顺序desc倒序，asc正序
<code>by</code>排序依据  id, time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd
<code>start</code>从第几条开始
<code>num</code>获取条数
<code>ids</code>指定id 多个逗号连接
<code>not</code>不抱含id 多个逗号链接
<code>rid</code>指定关联视频id
<code>actor</code>指定演员名 支持多个 例如  刘德华,成龙
<code>name</code>指定角色名 支持多个 例如 花千骨,黑山老妖
<code>letter</code>指定首字母
<code>level</code>指定推荐值 支持多个  1,2
<code>area</code>指定地区 支持多个  大陆,香港
<code>timeadd</code>添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour
<code>timehits</code>点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour
<code>time</code>更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour
<code>hitsmonth</code>月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000
<code>hitsweek</code>周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000
<code>hitsday</code>日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000
<code>hits</code>总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000
<code>paging</code>是否分页yes
<code>pageurl</code>分页地址
<code>cachetime</code>自定义缓存时间单位秒</p> <h3 id="调用方法"><a href="#调用方法" class="header-anchor">#</a> 调用方法</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:role num=&quot;10&quot; paging=&quot;no&quot; rid=&quot;'.$obj['vod_id'].'&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   <span class="token comment">&lt;!-- 内部同下方，{$obj.改为{$vo.开头即可 --&gt;</span>
{/maccms:role}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="角色内容页独有标签"><a href="#角色内容页独有标签" class="header-anchor">#</a> 角色内容页独有标签</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$obj.role_id} 角色id
{$obj.role_rid} 关联视频id
{$obj.role_name} 角色名
{$obj.role_en} 拼音
{$obj.role_status} 状态
{$obj.role_lock} 锁定
{$obj.role_letter} 首字母
{$obj.role_color} 高亮颜色
{$obj.role_actor} 演员名称
{$obj.role_remarks} 备注
{$obj.role_pic} 图片
{$obj.role_sort} 排序
{$obj.role_level} 推荐值
{$obj.role_up} 顶数
{$obj.role_down} 踩数
{$obj.role_score} 平均分
{$obj.role_score_all} 总评分
{$obj.role_score_num} 评分次数
{$obj.role_time} 更新时间
{$obj.role_time_add} 添加时间
{$obj.role_time_hits} 点击时间
{$obj.role_time_make} 生成时间
{$obj.role_tpl} 自定义模板
{$obj.role_jumpurl} 跳转url
{$obj.role_content} 详情
{$obj|mac_url_role_detail} 获取角色详情页链接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="网址列表标签"><a href="#网址列表标签" class="header-anchor">#</a> 网址列表标签</h2> <h3 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h3> <ul><li><code>order</code>排列顺序desc倒序，asc正序</li> <li><code>by</code>排序依据  id, time,time_add,score,hits,hits_day,hits_week,hits_month,up,down,level,rnd</li> <li><code>start</code>从第几条开始</li> <li><code>num</code>获取条数</li> <li><code>ids</code>指定id 多个逗号连接</li> <li><code>not</code>不抱含id 多个逗号链接</li> <li><code>type</code>指定获取分类数据 all所有；1,2,3指定</li> <li><code>letter</code>指定首字母</li> <li><code>level</code>指定推荐值 支持多个  1,2</li> <li><code>area</code>指定地区 支持多个  大陆,香港</li> <li><code>lang</code>指定语言 支持多个  英语,西班牙语</li> <li><code>timeadd</code>添加时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>timehits</code>点击时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>time</code>更新时间 一天前 -1 day，一周前-1 week，一月前-1 month，一小时前-1 hour</li> <li><code>hitsmonth</code>月点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsweek</code>周点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hitsday</code>日点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>hits</code>总点击量 大于一千 gt 1000, 小于一千 lt 1000，区间一千二千之间 between 1000,2000</li> <li><code>paging</code>是否分页yes</li> <li><code>pageurl</code>分页地址</li> <li><code>cachetime</code>自定义缓存时间单位秒</li></ul> <h3 id="调用方法-2"><a href="#调用方法-2" class="header-anchor">#</a> 调用方法</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:website num=&quot;10&quot; paging=&quot;no&quot; order=&quot;asc&quot; by=&quot;sort&quot;}
   内部同下方，{$obj.改为{$vo.开头即可
{/maccms:website}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="角色内容页独有标签-2"><a href="#角色内容页独有标签-2" class="header-anchor">#</a> 角色内容页独有标签</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>{$obj.website_id} 网址id
{$obj.type_id} 分类id
{$obj.type_id_1} 一级分类id
{$obj.website_name} 网址名
{$obj.website_sub} 副标
{$obj.website_en} 拼音
{$obj.website_jumpurl} 跳转url
{$obj.website_status} 状态
{$obj.website_lock} 锁定
{$obj.website_letter} 首字母
{$obj.website_color} 高亮颜色
{$obj.website_remarks} 备注
{$obj.website_tag} tags
{$obj.website_class} 扩展分类
{$obj.website_pic} 截图
{$obj.website_pic_screenshot}截图多个图片用$$$连接
{$obj.website_logo} logo
{$obj.website_sort} 排序
{$obj.website_level} 推荐值
{$obj.website_up} 顶数
{$obj.website_down} 踩数
{$obj.website_score} 平均分
{$obj.website_score_all} 总评分
{$obj.website_score_num} 评分次数
{$obj.website_time} 更新时间
{$obj.website_time_add} 添加时间
{$obj.website_time_hits} 点击时间
{$obj.website_time_make} 生成时间
{$obj.website_referer} 总来路
{$obj.website_referer_day} 日来路
{$obj.website_referer_week} 周来路
{$obj.website_referer_month} 月来路
{$obj.website_tpl} 自定义模板
{$obj.website_content} 详情
{$obj|mac_url_website_detail} 获取网址详情页链接


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="常用处理函数"><a href="#常用处理函数" class="header-anchor">#</a> 常用处理函数</h2> <ul><li><p>允许使用多个函数，都使用|分隔开</p></li> <li><p>所有图片地址，不管是远程的本地的都建议使用 <code>mac_url_img</code> 来处理。</p></li> <li><p><code>{:mac_data_count(0,'all','vod')}</code> 获取视频总数量</p></li> <li><p><code>{:mac_data_count(0,'today','vod')}</code>获取今日更新视频总数量</p></li> <li><p><code>{:mac_data_count(0,'all','art')}</code>获取文章总数量</p></li> <li><p><code>{:mac_data_count(0,'today','art')}</code> 获取今日更新文章总数量</p></li> <li><p><code>{:mac_data_count(1,'all')}</code>获取某个分类下的数据总量，支持视频和文章,传入分类ID</p></li> <li><p><code>{:mac_data_count(1,'today')}</code> 获取某个分类下的今日更新数据总量，支持视频和文章,传入分类ID</p></li> <li><p>另外还支持<code>topic</code>,<code>website</code>,<code>actor</code>,<code>role</code>模块的获取数据数量</p></li> <li><p><code>{:mac_url('map/index')}</code> 获取站内链接,参数代表 模块/页面</p></li> <li><p><code>{$obj.vod_content|mac_url_content_img}</code> 如果使用了第三方附件存储，附件和图片默认url是mac:开头的，此方法将替换为- <code>http</code></p></li> <li><p><code>{$vo.vod_pic|mac_url_img}</code>  自动转换图片地址</p></li> <li><p><code>{$vo.vod_content|mac_substring=100}</code>返回截取字符串100个字</p></li> <li><p><code>{$vo.vod_content|mac_filter_html}</code>返回没有html代码的内容</p></li> <li><p><code>{$vo.actor|mac_url_create='actor','vod','search','&amp;nbsp;'}</code>
把,号相连的一串字符生成N个搜索链接,后2个参数可以不填写默认是生成vod模块搜索链接。 例子是创建演员搜索链接。支持演员、导演、tag、扩展分类等字段。最后一个参数是生成链接的分隔符。</p></li> <li><p><code>{$vo.vod_time|mac_day}</code>自动返回日期</p></li> <li><p><code>{$vo.vod_time|mac_friend_date}</code>友好时间提醒 几秒前，几分前，几小时前，几天前。。。</p></li> <li><p><code>{$vo.vod_year|mac_default='未知'}</code>如果字符串为空，则返回默认字符串</p></li> <li><p><code>{$user.user_login_ip|mac_long2ip}</code>返回格式化ip地址</p></li> <li><p><code>{$user.user_id|mac_get_user_portrait}</code>获取用户头像地址</p></li></ul> <h2 id="常用js处理函数"><a href="#常用js处理函数" class="header-anchor">#</a> 常用JS处理函数</h2> <p>一般用元素的class自动绑定处理事件</p> <ul><li>会员-收藏视频内容</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-收藏文章内容页</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-收藏专题内容页</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我要收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以下内容一般放到body结尾之前，不用于显示，只用户记录信息。</p> <ul><li>会员-文章浏览记录</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置文章内容页浏览记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-专题浏览记录</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置专题内容页浏览记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-视频浏览记录</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置内容页浏览记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-视频播放记录</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置视频播放记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>会员-视频下载记录</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_ulog_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置视频播放记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-sid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.sid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-nid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$param.nid}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>视频、文章、专题 顶和踩  通用</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  顶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$obj.vod_up}{$obj.art_up}{$obj.topic_up}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$vod_id}{$art_id}{$topic_id}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  踩<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>digg_num<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$obj.vod_down}{$obj.art_down}{$obj.topic_down}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="视频、文章、专题点击量显示-通用"><a href="#视频、文章、专题点击量显示-通用" class="header-anchor">#</a> 视频、文章、专题点击量显示  通用</h3> <p>总点击量：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token attr-name">&quot;</span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
- 日点击量：
```html
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_day<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token attr-name">&quot;</span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_day<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>周点击量：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_week<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token attr-name">&quot;</span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_week<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>月点击量：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_hits hits_month<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-mid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$maccms.mid}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_id}{$obj.art_id}{$obj.topic_id}<span class="token punctuation">&quot;</span></span><span class="token attr-name">&quot;</span> <span class="token attr-name">data-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hits_month<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>前台浏览历史记录调用</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>历史记录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="在视频、文章、专题详情页面写入浏览历史记录"><a href="#在视频、文章、专题详情页面写入浏览历史记录" class="header-anchor">#</a> 在视频、文章、专题详情页面写入浏览历史记录</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置视频历史记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{$obj.type.type_name}]{$obj.vod_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.vod_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置文章历史记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{$obj.type.type_name}]{$obj.art_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.art_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span>none</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_history_set<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>设置专题历史记录<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_name}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-pic</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{$obj.topic_pic|mac_url_img}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>访问页面触发定时任务，建议放到首页底部；  由于入口文件名可变，默认是api.php，如需修改请自定义 data-file=&quot;xxx.php&quot;</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_timming<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>网址导航来路记录统计；建议放到首页底部。来路域名必须和网址导航里的跳转url里的一致。</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_referer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-file</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>自动获取短网址连接</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shorten<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mac_shorten<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>短网址自定义用法，js来获取</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token constant">MAC</span><span class="token punctuation">.</span>Shorten<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com/&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url_short<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>获取用户记录日志，比如1浏览、2收藏、3想看、4点播、5下载</li> <li><code>MAC.Ulog.Get</code>有<code>4</code>个参数<code>type</code>类型<code>0</code>代表全部,<code>page</code>页码,<code>limit</code>每页条数,<code>call</code>回调函数</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token constant">MAC</span><span class="token punctuation">.</span>Ulog<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">999</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span>row</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'pic'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type_name'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span> <span class="token operator">+</span> row<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'--'</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'获取失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="常用标签技巧"><a href="#常用标签技巧" class="header-anchor">#</a> 常用标签技巧</h2> <h3 id="在循环中获取每个分类的数据量"><a href="#在循环中获取每个分类的数据量" class="header-anchor">#</a> 在循环中获取每个分类的数据量</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo1&quot; key=&quot;key1&quot;}
分成：{$vo1.type_name}；总数量： {$vo1.type_id|mac_data_count=all}；今日数量：{$vo1.type_id|mac_data_count=today}。
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="嵌套循环外层分类内部视频或文章-重点在于外部和内部标签各自设置-id-和-key-系统默认都是vo不适合会导致数据冲掉。"><a href="#嵌套循环外层分类内部视频或文章-重点在于外部和内部标签各自设置-id-和-key-系统默认都是vo不适合会导致数据冲掉。" class="header-anchor">#</a> 嵌套循环外层分类内部视频或文章,重点在于外部和内部标签各自设置 id 和 key，系统默认都是vo不适合会导致数据冲掉。</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo1&quot; key=&quot;key1&quot;}
    {maccms:vod num=&quot;10&quot; type=&quot;'.$vo1['type_id'].'&quot; order=&quot;desc&quot; by=&quot;time&quot; id=&quot;vo2&quot; key=&quot;key2&quot;}
        {$vo1.type_name}:{$vo2.vod_name}；
    {/maccms:vod}
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="嵌套循环一级和二级分类数据"><a href="#嵌套循环一级和二级分类数据" class="header-anchor">#</a> 嵌套循环一级和二级分类数据</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code>{maccms:type ids=&quot;1,2,3,4,5&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo&quot; key=&quot;key&quot;} 				  
	{maccms:type parent=&quot;'.$vo['type_id'].'&quot; order=&quot;asc&quot; by=&quot;sort&quot; id=&quot;vo2&quot; key=&quot;key2&quot;} 
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>:mac_url_type($vo2)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{$vo2.type_name}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	{/maccms:type}
{/maccms:type}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.454e982e.js" defer></script><script src="/assets/js/5.0f02ed52.js" defer></script><script src="/assets/js/4.9ebf53b1.js" defer></script><script src="/assets/js/31.997b17e2.js" defer></script><script src="/assets/js/8.a78a9654.js" defer></script>
  </body>
</html>
